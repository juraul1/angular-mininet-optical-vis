var Sigma;mxBasePath="assets/lib/sigma",(()=>{var te={796:I=>{I.exports=function(o,b){var L=b.length;if(0!==L){var T=o.length;o.length+=L;for(var w=0;w<L;w++)o[T+w]=b[w]}}},187:I=>{"use strict";var o,b="object"==typeof Reflect?Reflect:null,L=b&&"function"==typeof b.apply?b.apply:function(a,p,_){return Function.prototype.apply.call(a,p,_)};o=b&&"function"==typeof b.ownKeys?b.ownKeys:Object.getOwnPropertySymbols?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:function(a){return Object.getOwnPropertyNames(a)};var T=Number.isNaN||function(a){return a!=a};function w(){w.init.call(this)}I.exports=w,I.exports.once=function(a,p){return new Promise(function(_,E){function y(e){a.removeListener(p,h),E(e)}function h(){"function"==typeof a.removeListener&&a.removeListener("error",y),_([].slice.call(arguments))}var e;n(a,p,h,{once:!0}),"error"!==p&&("function"==typeof(e=a).on&&n(e,"error",y,{once:!0}))})},w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var c=10;function m(a){if("function"!=typeof a)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}function v(a){return void 0===a._maxListeners?w.defaultMaxListeners:a._maxListeners}function C(a,p,_,E){var y,h,e;if(m(_),void 0===(h=a._events)?(h=a._events=Object.create(null),a._eventsCount=0):(void 0!==h.newListener&&(a.emit("newListener",p,_.listener?_.listener:_),h=a._events),e=h[p]),void 0===e)e=h[p]=_,++a._eventsCount;else if("function"==typeof e?e=h[p]=E?[_,e]:[e,_]:E?e.unshift(_):e.push(_),(y=v(a))>0&&e.length>y&&!e.warned){e.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+e.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=a,l.type=p,l.count=e.length,console&&console.warn&&console.warn(l)}return a}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(a,p,_){var E={fired:!1,wrapFn:void 0,target:a,type:p,listener:_},y=d.bind(E);return y.listener=_,E.wrapFn=y,y}function s(a,p,_){var E=a._events;if(void 0===E)return[];var y=E[p];return void 0===y?[]:"function"==typeof y?_?[y.listener||y]:[y]:_?function(h){for(var e=new Array(h.length),t=0;t<e.length;++t)e[t]=h[t].listener||h[t];return e}(y):r(y,y.length)}function i(a){var p=this._events;if(void 0!==p){var _=p[a];if("function"==typeof _)return 1;if(void 0!==_)return _.length}return 0}function r(a,p){for(var _=new Array(p),E=0;E<p;++E)_[E]=a[E];return _}function n(a,p,_,E){if("function"==typeof a.on)E.once?a.once(p,_):a.on(p,_);else{if("function"!=typeof a.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a);a.addEventListener(p,function y(h){E.once&&a.removeEventListener(p,y),_(h)})}}Object.defineProperty(w,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(a){if("number"!=typeof a||a<0||T(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");c=a}}),w.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(a){if("number"!=typeof a||a<0||T(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this},w.prototype.getMaxListeners=function(){return v(this)},w.prototype.emit=function(a){for(var p=[],_=1;_<arguments.length;_++)p.push(arguments[_]);var E="error"===a,y=this._events;if(void 0!==y)E=E&&void 0===y.error;else if(!E)return!1;if(E){var h;if(p.length>0&&(h=p[0]),h instanceof Error)throw h;var e=new Error("Unhandled error."+(h?" ("+h.message+")":""));throw e.context=h,e}var t=y[a];if(void 0===t)return!1;if("function"==typeof t)L(t,this,p);else{var l=t.length,u=r(t,l);for(_=0;_<l;++_)L(u[_],this,p)}return!0},w.prototype.on=w.prototype.addListener=function(a,p){return C(this,a,p,!1)},w.prototype.prependListener=function(a,p){return C(this,a,p,!0)},w.prototype.once=function(a,p){return m(p),this.on(a,f(this,a,p)),this},w.prototype.prependOnceListener=function(a,p){return m(p),this.prependListener(a,f(this,a,p)),this},w.prototype.off=w.prototype.removeListener=function(a,p){var _,E,y,h,e;if(m(p),void 0===(E=this._events))return this;if(void 0===(_=E[a]))return this;if(_===p||_.listener===p)0==--this._eventsCount?this._events=Object.create(null):(delete E[a],E.removeListener&&this.emit("removeListener",a,_.listener||p));else if("function"!=typeof _){for(y=-1,h=_.length-1;h>=0;h--)if(_[h]===p||_[h].listener===p){e=_[h].listener,y=h;break}if(y<0)return this;0===y?_.shift():function(t,l){for(;l+1<t.length;l++)t[l]=t[l+1];t.pop()}(_,y),1===_.length&&(E[a]=_[0]),void 0!==E.removeListener&&this.emit("removeListener",a,e||p)}return this},w.prototype.removeAllListeners=function(a){var p,_,E;if(void 0===(_=this._events))return this;if(void 0===_.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==_[a]&&(0==--this._eventsCount?this._events=Object.create(null):delete _[a]),this;if(0===arguments.length){var y,h=Object.keys(_);for(E=0;E<h.length;++E)"removeListener"!==(y=h[E])&&this.removeAllListeners(y);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(p=_[a]))this.removeListener(a,p);else if(void 0!==p)for(E=p.length-1;E>=0;E--)this.removeListener(a,p[E]);return this},w.prototype.listeners=function(a){return s(this,a,!0)},w.prototype.rawListeners=function(a){return s(this,a,!1)},w.listenerCount=function(a,p){return"function"==typeof a.listenerCount?a.listenerCount(p):i.call(a,p)},w.prototype.listenerCount=i,w.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},186:I=>{I.exports=function(o){return null!==o&&"object"==typeof o&&"function"==typeof o.addUndirectedEdgeWithKey&&"function"==typeof o.dropNode&&"boolean"==typeof o.multi}},973:(I,o,b)=>{"use strict";b.r(o),b.d(o,{default:()=>L});const L="precision mediump float;\n\nvarying vec4 v_color;\n\nvoid main(void) {\n  gl_FragColor = v_color;\n}\n"},912:(I,o,b)=>{"use strict";b.r(o),b.d(o,{default:()=>L});const L="attribute vec2 a_position;\nattribute vec2 a_normal;\nattribute float a_radius;\nattribute vec4 a_color;\nattribute vec3 a_barycentric;\n\nuniform mat3 u_matrix;\nuniform float u_sqrtZoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\nconst float arrowHeadWidthLengthRatio = 0.66;\nconst float arrowHeadLengthThicknessRatio = 2.5;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // These first computations are taken from edge.vert.glsl and\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\n  // happening:\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio;\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\n  float adaptedWebGLNodeRadius = a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;\n  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\n  float adaptedWebGLArrowHeadHalfWidth = adaptedWebGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\n\n  float da = a_barycentric.x;\n  float db = a_barycentric.y;\n  float dc = a_barycentric.z;\n\n  vec2 delta = vec2(\n      da * (adaptedWebGLNodeRadius * unitNormal.y)\n    + db * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y + adaptedWebGLArrowHeadHalfWidth * unitNormal.x)\n    + dc * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y - adaptedWebGLArrowHeadHalfWidth * unitNormal.x),\n\n      da * (-adaptedWebGLNodeRadius * unitNormal.x)\n    + db * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x + adaptedWebGLArrowHeadHalfWidth * unitNormal.y)\n    + dc * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x - adaptedWebGLArrowHeadHalfWidth * unitNormal.y)\n  );\n\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\n\n  gl_Position = vec4(position, 0, 1);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},620:(I,o,b)=>{"use strict";b.r(o),b.d(o,{default:()=>L});const L="attribute vec4 a_color;\nattribute vec2 a_normal;\nattribute vec2 a_position;\nattribute float a_radius;\n\nuniform mat3 u_matrix;\nuniform float u_sqrtZoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\nconst float arrowHeadLengthThicknessRatio = 2.5;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // These first computations are taken from edge.vert.glsl. Please read it to\n  // get better comments on what's happening:\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio;\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\n\n  // Here, we move the point to leave space for the arrow head:\n  float direction = sign(a_radius);\n  float adaptedWebGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;\n  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\n\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength);\n\n  // Here is the proper position of the vertex\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness + compensationVector, 1)).xy, 0, 1);\n\n  v_thickness = webGLThickness / u_sqrtZoomRatio;\n\n  v_normal = unitNormal;\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},498:(I,o,b)=>{"use strict";b.r(o),b.d(o,{default:()=>L});const L="precision mediump float;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float feather = 0.001;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  float dist = length(v_normal) * v_thickness;\n\n  float t = smoothstep(\n    v_thickness - feather,\n    v_thickness,\n    dist\n  );\n\n  gl_FragColor = mix(v_color, transparent, t);\n}\n"},223:(I,o,b)=>{"use strict";b.r(o),b.d(o,{default:()=>L});const L='attribute vec4 a_color;\nattribute vec2 a_normal;\nattribute vec2 a_position;\n\nuniform mat3 u_matrix;\nuniform float u_sqrtZoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // We require edges to be at least `minThickness` pixels thick *on screen*\n  // (so we need to compensate the SQRT zoom ratio):\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\n\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\n  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction\n  // ratio:\n  float webGLThickness = pixelsThickness * u_correctionRatio;\n\n  // Finally, we adapt the edge thickness to the "SQRT rule" in sigma (so that\n  // items are not too big when zoomed in, and not too small when zoomed out).\n  // The exact computation should be `adapted = value * zoom / sqrt(zoom)`, but\n  // it\'s simpler like this:\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\n\n  // Here is the proper position of the vertex\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness, 1)).xy, 0, 1);\n\n  // For the fragment shader though, we need a thickness that takes the "magic"\n  // correction ratio into account (as in webGLThickness), but so that the\n  // antialiasint effect does not depend on the zoom level. So here\'s yet\n  // another thickness version:\n  v_thickness = webGLThickness / u_sqrtZoomRatio;\n\n  v_normal = unitNormal;\n  v_color = a_color;\n  v_color.a *= bias;\n}\n'},262:(I,o,b)=>{"use strict";b.r(o),b.d(o,{default:()=>L});const L="precision mediump float;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float radius = 0.5;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\n  float dist = radius - length(m);\n\n  float t = 0.0;\n  if (dist > v_border)\n    t = 1.0;\n  else if (dist > 0.0)\n    t = dist / v_border;\n\n  gl_FragColor = mix(transparent, v_color, t);\n}\n"},106:(I,o,b)=>{"use strict";b.r(o),b.d(o,{default:()=>L});const L="attribute vec2 a_position;\nattribute float a_size;\nattribute vec4 a_color;\n\nuniform float u_ratio;\nuniform float u_scale;\nuniform mat3 u_matrix;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  gl_Position = vec4(\n    (u_matrix * vec3(a_position, 1)).xy,\n    0,\n    1\n  );\n\n  // Multiply the point size twice:\n  //  - x SCALING_RATIO to correct the canvas scaling\n  //  - x 2 to correct the formulae\n  gl_PointSize = a_size * u_ratio * u_scale * 2.0;\n\n  v_border = (1.0 / u_ratio) * (0.5 / a_size);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},764:function(I,o,b){"use strict";var L,T=this&&this.__extends||(L=function(s,i){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])})(s,i)},function(s,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=s}L(s,i),s.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}),w=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(o,"__esModule",{value:!0});var c=b(751),m=w(b(358)),v=b(928),C=b(699),d=1.5,f=function(s){function i(){var r=s.call(this)||this;return r.x=.5,r.y=.5,r.angle=0,r.ratio=1,r.minRatio=null,r.maxRatio=null,r.nextFrame=null,r.previousState=null,r.enabled=!0,r.previousState=r.getState(),r}return T(i,s),i.from=function(r){return(new i).setState(r)},i.prototype.enable=function(){return this.enabled=!0,this},i.prototype.disable=function(){return this.enabled=!1,this},i.prototype.getState=function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}},i.prototype.hasState=function(r){return this.x===r.x&&this.y===r.y&&this.ratio===r.ratio&&this.angle===r.angle},i.prototype.getPreviousState=function(){var r=this.previousState;return r?{x:r.x,y:r.y,angle:r.angle,ratio:r.ratio}:null},i.prototype.getBoundedRatio=function(r){var n=r;return"number"==typeof this.minRatio&&(n=Math.max(n,this.minRatio)),"number"==typeof this.maxRatio&&(n=Math.min(n,this.maxRatio)),n},i.prototype.validateState=function(r){var n={};return"number"==typeof r.x&&(n.x=r.x),"number"==typeof r.y&&(n.y=r.y),"number"==typeof r.angle&&(n.angle=r.angle),"number"==typeof r.ratio&&(n.ratio=this.getBoundedRatio(r.ratio)),n},i.prototype.isAnimated=function(){return!!this.nextFrame},i.prototype.setState=function(r){if(!this.enabled)return this;this.previousState=this.getState();var n=this.validateState(r);return"number"==typeof n.x&&(this.x=n.x),"number"==typeof n.y&&(this.y=n.y),"number"==typeof n.angle&&(this.angle=n.angle),"number"==typeof n.ratio&&(this.ratio=n.ratio),this.hasState(this.previousState)||this.emit("updated",this.getState()),this},i.prototype.animate=function(r,n,a){var p=this;if(this.enabled){var _=Object.assign({},c.ANIMATE_DEFAULTS,n),E=this.validateState(r),y="function"==typeof _.easing?_.easing:m.default[_.easing],h=Date.now(),e=this.getState(),t=function(){var l=(Date.now()-h)/_.duration;if(l>=1)return p.nextFrame=null,p.setState(E),void(p.animationCallback&&(p.animationCallback.call(null),p.animationCallback=void 0));var u=y(l),g={};"number"==typeof E.x&&(g.x=e.x+(E.x-e.x)*u),"number"==typeof E.y&&(g.y=e.y+(E.y-e.y)*u),"number"==typeof E.angle&&(g.angle=e.angle+(E.angle-e.angle)*u),"number"==typeof E.ratio&&(g.ratio=e.ratio+(E.ratio-e.ratio)*u),p.setState(g),p.nextFrame=(0,v.requestFrame)(t)};this.nextFrame?((0,v.cancelFrame)(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=(0,v.requestFrame)(t)):t(),this.animationCallback=a}},i.prototype.animatedZoom=function(r){if(r){if("number"==typeof r)return this.animate({ratio:this.ratio/r});this.animate({ratio:this.ratio/(r.factor||d)},r)}else this.animate({ratio:this.ratio/d})},i.prototype.animatedUnzoom=function(r){if(r){if("number"==typeof r)return this.animate({ratio:this.ratio*r});this.animate({ratio:this.ratio*(r.factor||d)},r)}else this.animate({ratio:this.ratio*d})},i.prototype.animatedReset=function(r){this.animate({x:.5,y:.5,ratio:1,angle:0},r)},i.prototype.copy=function(){return i.from(this.getState())},i}(C.TypedEventEmitter);o.default=f},291:function(I,o,b){"use strict";var L,T=this&&this.__extends||(L=function(s,i){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])})(s,i)},function(s,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=s}L(s,i),s.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}),w=this&&this.__assign||function(){return w=Object.assign||function(s){for(var i,r=1,n=arguments.length;r<n;r++)for(var a in i=arguments[r])Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a]);return s},w.apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0}),o.getWheelDelta=o.getTouchCoords=o.getTouchesArray=o.getWheelCoords=o.getMouseCoords=o.getPosition=void 0;var c=b(699);function m(s,i){var r=i.getBoundingClientRect();return{x:s.clientX-r.left,y:s.clientY-r.top}}function v(s,i){var r=w(w({},m(s,i)),{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){r.sigmaDefaultPrevented=!0},original:s});return r}function C(s){for(var i=[],r=0,n=Math.min(s.length,2);r<n;r++)i.push(s[r]);return i}function d(s){if(void 0!==s.deltaY)return-3*s.deltaY/360;if(void 0!==s.detail)return s.detail/-9;throw new Error("Captor: could not extract delta from event.")}o.getPosition=m,o.getMouseCoords=v,o.getWheelCoords=function(s,i){return w(w({},v(s,i)),{delta:d(s)})},o.getTouchesArray=C,o.getTouchCoords=function(s,i){return{touches:C(s.touches).map(function(r){return m(r,i)}),original:s}},o.getWheelDelta=d;var f=function(s){function i(r,n){var a=s.call(this)||this;return a.container=r,a.renderer=n,a}return T(i,s),i}(c.TypedEventEmitter);o.default=f},269:function(I,o,b){"use strict";var L,T=this&&this.__extends||(L=function(d,f){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i[r])})(d,f)},function(d,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function s(){this.constructor=d}L(d,f),d.prototype=null===f?Object.create(f):(s.prototype=f.prototype,new s)}),w=this&&this.__createBinding||(Object.create?function(d,f,s,i){void 0===i&&(i=s),Object.defineProperty(d,i,{enumerable:!0,get:function(){return f[s]}})}:function(d,f,s,i){void 0===i&&(i=s),d[i]=f[s]}),c=this&&this.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),m=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(null!=d)for(var s in d)"default"!==s&&Object.prototype.hasOwnProperty.call(d,s)&&w(f,d,s);return c(f,d),f};Object.defineProperty(o,"__esModule",{value:!0});var v=m(b(291)),C=function(d){function f(s,i){var r=d.call(this,s,i)||this;return r.enabled=!0,r.draggedEvents=0,r.downStartTime=null,r.lastMouseX=null,r.lastMouseY=null,r.isMouseDown=!1,r.isMoving=!1,r.movingTimeout=null,r.startCameraState=null,r.clicks=0,r.doubleClickTimeout=null,r.currentWheelDirection=0,r.handleClick=r.handleClick.bind(r),r.handleRightClick=r.handleRightClick.bind(r),r.handleDown=r.handleDown.bind(r),r.handleUp=r.handleUp.bind(r),r.handleMove=r.handleMove.bind(r),r.handleWheel=r.handleWheel.bind(r),r.handleOut=r.handleOut.bind(r),s.addEventListener("click",r.handleClick,!1),s.addEventListener("contextmenu",r.handleRightClick,!1),s.addEventListener("mousedown",r.handleDown,!1),s.addEventListener("wheel",r.handleWheel,!1),s.addEventListener("mouseout",r.handleOut,!1),document.addEventListener("mousemove",r.handleMove,!1),document.addEventListener("mouseup",r.handleUp,!1),r}return T(f,d),f.prototype.kill=function(){var s=this.container;s.removeEventListener("click",this.handleClick),s.removeEventListener("contextmenu",this.handleRightClick),s.removeEventListener("mousedown",this.handleDown),s.removeEventListener("wheel",this.handleWheel),s.removeEventListener("mouseout",this.handleOut),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)},f.prototype.handleClick=function(s){var i=this;if(this.enabled){if(this.clicks++,2===this.clicks)return this.clicks=0,"number"==typeof this.doubleClickTimeout&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(s);setTimeout(function(){i.clicks=0,i.doubleClickTimeout=null},300),this.draggedEvents<3&&this.emit("click",(0,v.getMouseCoords)(s,this.container))}},f.prototype.handleRightClick=function(s){this.enabled&&this.emit("rightClick",(0,v.getMouseCoords)(s,this.container))},f.prototype.handleDoubleClick=function(s){if(this.enabled){s.preventDefault(),s.stopPropagation();var i=(0,v.getMouseCoords)(s,this.container);if(this.emit("doubleClick",i),!i.sigmaDefaultPrevented){var r=this.renderer.getCamera(),n=r.getBoundedRatio(r.getState().ratio/2.2);r.animate(this.renderer.getViewportZoomedState((0,v.getPosition)(s,this.container),n),{easing:"quadraticInOut",duration:200})}}},f.prototype.handleDown=function(s){if(this.enabled){this.startCameraState=this.renderer.getCamera().getState();var i=(0,v.getPosition)(s,this.container),n=i.y;this.lastMouseX=i.x,this.lastMouseY=n,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0,this.emit("mousedown",(0,v.getMouseCoords)(s,this.container))}},f.prototype.handleUp=function(s){var i=this;if(this.enabled&&this.isMouseDown){var r=this.renderer.getCamera();this.isMouseDown=!1,"number"==typeof this.movingTimeout&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var n=(0,v.getPosition)(s,this.container),a=n.x,p=n.y,_=r.getState(),E=r.getPreviousState()||{x:0,y:0};this.isMoving?r.animate({x:_.x+3*(_.x-E.x),y:_.y+3*(_.y-E.y)},{duration:200,easing:"quadraticOut"}):this.lastMouseX===a&&this.lastMouseY===p||r.setState({x:_.x,y:_.y}),this.isMoving=!1,setTimeout(function(){i.draggedEvents=0,i.renderer.refresh()},0),this.emit("mouseup",(0,v.getMouseCoords)(s,this.container))}},f.prototype.handleMove=function(s){var i=this;if(this.enabled){var r=(0,v.getMouseCoords)(s,this.container);if(this.emit("mousemovebody",r),s.target===this.container&&this.emit("mousemove",r),!r.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,"number"==typeof this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){i.movingTimeout=null,i.isMoving=!1},100);var n=this.renderer.getCamera(),a=(0,v.getPosition)(s,this.container),p=a.x,_=a.y,E=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),y=this.renderer.viewportToFramedGraph({x:p,y:_}),h=E.x-y.x,e=E.y-y.y,t=n.getState();n.setState({x:t.x+h,y:t.y+e}),this.lastMouseX=p,this.lastMouseY=_,s.preventDefault(),s.stopPropagation()}}},f.prototype.handleWheel=function(s){var i=this;if(this.enabled){s.preventDefault(),s.stopPropagation();var r=(0,v.getWheelDelta)(s);if(r){var n=(0,v.getWheelCoords)(s,this.container);if(this.emit("wheel",n),!n.sigmaDefaultPrevented){var a=r>0?.5882352941176471:1.7,p=this.renderer.getCamera(),_=p.getBoundedRatio(p.getState().ratio*a),E=r>0?1:-1,y=Date.now();this.currentWheelDirection===E&&this.lastWheelTriggerTime&&y-this.lastWheelTriggerTime<50||(p.animate(this.renderer.getViewportZoomedState((0,v.getPosition)(s,this.container),_),{easing:"quadraticOut",duration:250},function(){i.currentWheelDirection=0}),this.currentWheelDirection=E,this.lastWheelTriggerTime=y)}}}},f.prototype.handleOut=function(){},f}(v.default);o.default=C},508:function(I,o,b){"use strict";var L,T=this&&this.__extends||(L=function(f,s){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(f,s)},function(f,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function i(){this.constructor=f}L(f,s),f.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}),w=this&&this.__createBinding||(Object.create?function(f,s,i,r){void 0===r&&(r=i),Object.defineProperty(f,r,{enumerable:!0,get:function(){return s[i]}})}:function(f,s,i,r){void 0===r&&(r=i),f[r]=s[i]}),c=this&&this.__setModuleDefault||(Object.create?function(f,s){Object.defineProperty(f,"default",{enumerable:!0,value:s})}:function(f,s){f.default=s}),m=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var s={};if(null!=f)for(var i in f)"default"!==i&&Object.prototype.hasOwnProperty.call(f,i)&&w(s,f,i);return c(s,f),s},v=this&&this.__read||function(f,s){var i="function"==typeof Symbol&&f[Symbol.iterator];if(!i)return f;var r,n,a=i.call(f),p=[];try{for(;(void 0===s||s-- >0)&&!(r=a.next()).done;)p.push(r.value)}catch(_){n={error:_}}finally{try{r&&!r.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return p};Object.defineProperty(o,"__esModule",{value:!0});var C=m(b(291)),d=function(f){function s(i,r){var n=f.call(this,i,r)||this;return n.enabled=!0,n.isMoving=!1,n.touchMode=0,n.handleStart=n.handleStart.bind(n),n.handleLeave=n.handleLeave.bind(n),n.handleMove=n.handleMove.bind(n),i.addEventListener("touchstart",n.handleStart,!1),i.addEventListener("touchend",n.handleLeave,!1),i.addEventListener("touchcancel",n.handleLeave,!1),i.addEventListener("touchmove",n.handleMove,!1),n}return T(s,f),s.prototype.kill=function(){var i=this.container;i.removeEventListener("touchstart",this.handleStart),i.removeEventListener("touchend",this.handleLeave),i.removeEventListener("touchcancel",this.handleLeave),i.removeEventListener("touchmove",this.handleMove)},s.prototype.getDimensions=function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}},s.prototype.dispatchRelatedMouseEvent=function(i,r,n,a){var p=n||(0,C.getPosition)(r.touches[0],this.container),_=new MouseEvent(i,{clientX:p.x,clientY:p.y,altKey:r.altKey,ctrlKey:r.ctrlKey});_.isFakeSigmaMouseEvent=!0,(a||this.container).dispatchEvent(_)},s.prototype.handleStart=function(i){var r=this;if(this.enabled){i.preventDefault(),1===i.touches.length&&this.dispatchRelatedMouseEvent("mousedown",i);var n=(0,C.getTouchesArray)(i.touches);if(this.isMoving=!0,this.touchMode=n.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=n.map(function(t){return(0,C.getPosition)(t,r.container)}),this.lastTouchesPositions=this.startTouchesPositions,2===this.touchMode){var a=v(this.startTouchesPositions,2),p=a[0],_=p.x,E=p.y,y=a[1],h=y.x,e=y.y;this.startTouchesAngle=Math.atan2(e-E,h-_),this.startTouchesDistance=Math.sqrt(Math.pow(h-_,2)+Math.pow(e-E,2))}this.emit("touchdown",(0,C.getTouchCoords)(i,this.container))}},s.prototype.handleLeave=function(i){if(this.enabled){switch(i.preventDefault(),0===i.touches.length&&this.lastTouchesPositions&&this.lastTouchesPositions.length&&(this.dispatchRelatedMouseEvent("mouseup",i,this.lastTouchesPositions[0],document),this.dispatchRelatedMouseEvent("click",i,this.lastTouchesPositions[0])),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(1===i.touches.length){this.handleStart(i),i.preventDefault();break}case 1:if(this.isMoving){var r=this.renderer.getCamera(),n=r.getState(),a=r.getPreviousState()||{x:0,y:0};r.animate({x:n.x+3*(n.x-a.x),y:n.y+3*(n.y-a.y)},{duration:200,easing:"quadraticOut"})}this.isMoving=!1,this.touchMode=0}this.emit("touchup",(0,C.getTouchCoords)(i,this.container))}},s.prototype.handleMove=function(i){var r,n=this;if(this.enabled){i.preventDefault(),1===i.touches.length&&this.dispatchRelatedMouseEvent("mousemove",i);var a=this.renderer.getCamera(),p=this.startCameraState,_=(0,C.getTouchesArray)(i.touches).map(function(j){return(0,C.getPosition)(j,n.container)});switch(this.lastTouchesPositions=_,this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){n.isMoving=!1},200),this.touchMode){case 1:var E=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),y=E.x,h=E.y,e=this.renderer.viewportToFramedGraph(_[0]),t=e.x,l=e.y;a.setState({x:p.x+y-t,y:p.y+h-l});break;case 2:var u={},g=_[0],R=g.x,F=g.y,A=_[1],P=A.x,M=A.y,x=Math.atan2(M-F,P-R)-this.startTouchesAngle,O=Math.hypot(M-F,P-R)/this.startTouchesDistance,S=a.getBoundedRatio(p.ratio/O);u.ratio=S,u.angle=p.angle+x;var D=this.getDimensions(),U=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:p}),N=Math.min(D.width,D.height),G=S/N;l=F-N/2/(N/D.height),t=(r=v([(t=R-N/2/(N/D.width))*Math.cos(-u.angle)-l*Math.sin(-u.angle),l*Math.cos(-u.angle)+t*Math.sin(-u.angle)],2))[0],l=r[1],u.x=U.x-t*G,u.y=U.y+l*G,a.setState(u)}this.emit("touchmove",(0,C.getTouchCoords)(i,this.container))}},s}(C.default);o.default=d},730:(I,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.edgeLabelsToDisplayFromNodes=o.LabelGrid=void 0;var b=function(){function T(w,c){this.key=w,this.size=c}return T.compare=function(w,c){return w.size>c.size?-1:w.size<c.size||w.key>c.key?1:-1},T}(),L=function(){function T(){this.width=0,this.height=0,this.cellSize=0,this.columns=0,this.rows=0,this.cells={}}return T.prototype.resizeAndClear=function(w,c){this.width=w.width,this.height=w.height,this.cellSize=c,this.columns=Math.ceil(w.width/c),this.rows=Math.ceil(w.height/c),this.cells={}},T.prototype.getIndex=function(w){var c=Math.floor(w.x/this.cellSize);return Math.floor(w.y/this.cellSize)*this.columns+c},T.prototype.add=function(w,c,m){var v=new b(w,c),C=this.getIndex(m),d=this.cells[C];d||(this.cells[C]=d=[]),d.push(v)},T.prototype.organize=function(){for(var w in this.cells)this.cells[w].sort(b.compare)},T.prototype.getLabelsToDisplay=function(w,c){var m=this.cellSize*this.cellSize,C=Math.ceil(m/w/w*c/m),d=[];for(var f in this.cells)for(var s=this.cells[f],i=0;i<Math.min(C,s.length);i++)d.push(s[i].key);return d},T}();o.LabelGrid=L,o.edgeLabelsToDisplayFromNodes=function(T){var c=T.hoveredNode,m=T.highlightedNodes,v=T.displayedNodeLabels,C=[];return T.graph.forEachEdge(function(d,f,s,i){(s===c||i===c||m.has(s)||m.has(i)||v.has(s)&&v.has(i))&&C.push(d)}),C}},134:function(I,o,b){"use strict";var L=this&&this.__read||function(r,n){var a="function"==typeof Symbol&&r[Symbol.iterator];if(!a)return r;var p,_,E=a.call(r),y=[];try{for(;(void 0===n||n-- >0)&&!(p=E.next()).done;)y.push(p.value)}catch(h){_={error:h}}finally{try{p&&!p.done&&(a=E.return)&&a.call(E)}finally{if(_)throw _.error}}return y},T=this&&this.__spreadArray||function(r,n,a){if(a||2===arguments.length)for(var p,_=0,E=n.length;_<E;_++)!p&&_ in n||(p||(p=Array.prototype.slice.call(n,0,_)),p[_]=n[_]);return r.concat(p||Array.prototype.slice.call(n))},w=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(o,"__esModule",{value:!0}),o.rectangleCollidesWithQuad=o.squareCollidesWithQuad=o.getCircumscribedAlignedRectangle=o.isRectangleAligned=void 0;var c=w(b(796)),m=!1;function v(r){return r.x1===r.x2||r.y1===r.y2}function C(r){var n=Math.sqrt(Math.pow(r.x2-r.x1,2)+Math.pow(r.y2-r.y1,2)),a=(r.y1-r.y2)*r.height/n,p=(r.x2-r.x1)*r.height/n,_={x:r.x1,y:r.y1},E={x:r.x2,y:r.y2},y={x:r.x1+a,y:r.y1+p},h={x:r.x2+a,y:r.y2+p},e=Math.min(_.x,E.x,y.x,h.x),t=Math.max(_.x,E.x,y.x,h.x),l=Math.min(_.y,E.y,y.y,h.y);return{x1:e,y1:l,x2:t,y2:l,height:Math.max(_.y,E.y,y.y,h.y)-l}}function d(r,n,a,p,_,E,y){return r<p+E&&r+a>p&&n<_+y&&n+a>_}function f(r,n,a,p,_,E,y,h){return r<_+y&&r+a>_&&n<E+h&&n+p>E}function s(r,n,a,p,_,E){var y=r<a+_/2;return n<p+E/2?y?1:2:y?3:4}o.isRectangleAligned=v,o.getCircumscribedAlignedRectangle=C,o.squareCollidesWithQuad=d,o.rectangleCollidesWithQuad=f;var i=function(){function r(n){var a;void 0===n&&(n={}),this.containers=((a={}).outside=[],a),this.cache=null,this.lastRectangle=null;var p=Math.pow(4,5);this.data=new Float32Array((4*p-1)/3*4),this.resize(n.boundaries?n.boundaries:{x:0,y:0,width:1,height:1})}return r.prototype.add=function(n,a,p,_){return function(E,y,h,e,t,l,u){for(var g=t-u,R=l-u,F=2*u,A=0,P=0;;){if(A>=5)return h[P]=h[P]||[],void h[P].push(e);var M=4*P+4,x=4*P+8,O=4*P+12,S=4*P+16,D=d(g,R,F,y[M+0],y[M+1],y[M+2],y[M+3]),U=d(g,R,F,y[x+0],y[x+1],y[x+2],y[x+3]),N=d(g,R,F,y[O+0],y[O+1],y[O+2],y[O+3]),z=d(g,R,F,y[S+0],y[S+1],y[S+2],y[S+3]),G=[D,U,N,z].reduce(function(j,B){return B?j+1:j},0);if(0===G&&0===A)return h.outside.push(e),void(!m&&h.outside.length>=5&&(m=!0,console.warn("sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. You might have a problem with the normalization function or the custom bounding box.")));if(0===G)throw new Error("sigma/quadtree.insertNode: no collision (level: ".concat(A,", key: ").concat(e,", x: ").concat(t,", y: ").concat(l,", size: ").concat(u,")."));if(3===G)throw new Error("sigma/quadtree.insertNode: 3 impossible collisions (level: ".concat(A,", key: ").concat(e,", x: ").concat(t,", y: ").concat(l,", size: ").concat(u,")."));if(G>1)return h[P]=h[P]||[],void h[P].push(e);A++,D&&(P=M),U&&(P=x),N&&(P=O),z&&(P=S)}}(0,this.data,this.containers,n,a,p,_),this},r.prototype.resize=function(n){this.clear(),this.data[0]=n.x,this.data[1]=n.y,this.data[2]=n.width,this.data[3]=n.height,function(a,p){for(var _=[0,0];_.length;){var E=_.pop(),y=_.pop(),h=4*y+4,e=4*y+8,t=4*y+12,l=4*y+16,u=p[y+0],g=p[y+1],R=p[y+2]/2,F=p[y+3]/2;p[h+0]=u,p[h+1]=g,p[h+2]=R,p[h+3]=F,p[e+0]=u+R,p[e+1]=g,p[e+2]=R,p[e+3]=F,p[t+0]=u,p[t+1]=g+F,p[t+2]=R,p[t+3]=F,p[l+0]=u+R,p[l+1]=g+F,p[l+2]=R,p[l+3]=F,E<4&&(_.push(l,E+1),_.push(t,E+1),_.push(e,E+1),_.push(h,E+1))}}(0,this.data)},r.prototype.clear=function(){var n;return this.containers=((n={}).outside=[],n),this},r.prototype.point=function(n,a){var p=this.containers.outside,_=0,E=0;do{this.containers[_]&&p.push.apply(p,T([],L(this.containers[_]),!1)),_=4*_+4*s(n,a,this.data[_+0],this.data[_+1],this.data[_+2],this.data[_+3]),E++}while(E<=5);return p},r.prototype.rectangle=function(n,a,p,_,E){var y,h=this.lastRectangle;return h&&n===h.x1&&p===h.x2&&a===h.y1&&_===h.y2&&E===h.height||(this.lastRectangle={x1:n,y1:a,x2:p,y2:_,height:E},v(this.lastRectangle)||(this.lastRectangle=C(this.lastRectangle)),this.cache=function(e,t,l,u,g,R,F){for(var A,P=[0,0],M=[];P.length;){var x=P.pop(),O=P.pop();if((A=l[O])&&(0,c.default)(M,A),!(x>=5)){var S=4*O+4,D=4*O+8,U=4*O+12,N=4*O+16,z=f(u,g,R,F,t[S+0],t[S+1],t[S+2],t[S+3]),G=f(u,g,R,F,t[D+0],t[D+1],t[D+2],t[D+3]),j=f(u,g,R,F,t[U+0],t[U+1],t[U+2],t[U+3]),B=f(u,g,R,F,t[N+0],t[N+1],t[N+2],t[N+3]);z&&P.push(S,x+1),G&&P.push(D,x+1),j&&P.push(U,x+1),B&&P.push(N,x+1)}}return M}(0,this.data,this.containers,n,a,Math.abs(n-p)||Math.abs(a-_),E),(y=this.cache).push.apply(y,T([],L(this.containers.outside),!1))),this.cache},r}();o.default=i},265:function(I,o,b){"use strict";var L,T=this&&this.__extends||(L=function(f,s){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(f,s)},function(f,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function i(){this.constructor=f}L(f,s),f.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}),w=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(o,"__esModule",{value:!0});var c=w(b(159)),m=w(b(764)),v=w(b(134)),C=w(b(269)),d=function(f){function s(){return null!==f&&f.apply(this,arguments)||this}return T(s,f),s.Camera=m.default,s.QuadTree=v.default,s.MouseCaptor=C.default,s.Sigma=c.default,s}(c.default);I.exports=d},942:(I,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(b,L,T,w,c){var m=c.edgeLabelSize,v=c.edgeLabelFont,C=c.edgeLabelWeight,f=L.label;if(f){b.fillStyle=c.edgeLabelColor.attribute?L[c.edgeLabelColor.attribute]||c.edgeLabelColor.color||"#000":c.edgeLabelColor.color,b.font="".concat(C," ").concat(m,"px ").concat(v);var s,i,r=T.size,n=w.size,a=T.x,p=T.y,_=w.x,E=w.y,y=_-a,h=E-p,e=Math.sqrt(y*y+h*h);if(!(e<r+n)){s=((a+=y*r/e)+(_-=y*n/e))/2,i=((p+=h*r/e)+(E-=h*n/e))/2,y=_-a,h=E-p,e=Math.sqrt(y*y+h*h);var t,l=b.measureText(f).width;if(l>e){for(l=b.measureText(f+="\u2026").width;l>e&&f.length>1;)f=f.slice(0,-2)+"\u2026",l=b.measureText(f).width;if(f.length<4)return}t=y>0?h>0?Math.acos(y/e):Math.asin(h/e):h>0?Math.acos(y/e)+Math.PI:Math.asin(y/e)+Math.PI/2,b.save(),b.translate(s,i),b.rotate(t),b.fillText(f,-l/2,L.size/2+m),b.restore()}}}},61:function(I,o,b){"use strict";var L=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(o,"__esModule",{value:!0});var T=L(b(622));o.default=function(w,c,m){var v=m.labelSize,C=m.labelFont;if(w.font="".concat(m.labelWeight," ").concat(v,"px ").concat(C),w.fillStyle="#FFF",w.shadowOffsetX=0,w.shadowOffsetY=0,w.shadowBlur=8,w.shadowColor="#000","string"==typeof c.label){var f=w.measureText(c.label).width,s=Math.round(f+5),i=Math.round(v+4),r=Math.max(c.size,v/2)+2,n=Math.asin(i/2/r),a=Math.sqrt(Math.abs(Math.pow(r,2)-Math.pow(i/2,2)));w.beginPath(),w.moveTo(c.x+a,c.y+i/2),w.lineTo(c.x+r+s,c.y+i/2),w.lineTo(c.x+r+s,c.y-i/2),w.lineTo(c.x+a,c.y-i/2),w.arc(c.x,c.y,r,n,-n),w.closePath(),w.fill()}else w.beginPath(),w.arc(c.x,c.y,c.size+2,0,2*Math.PI),w.closePath(),w.fill();w.shadowOffsetX=0,w.shadowOffsetY=0,w.shadowBlur=0,(0,T.default)(w,c,m)}},622:(I,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(b,L,T){if(L.label){var w=T.labelSize,c=T.labelFont,m=T.labelWeight;b.fillStyle=T.labelColor.attribute?L[T.labelColor.attribute]||T.labelColor.color||"#000":T.labelColor.color,b.font="".concat(m," ").concat(w,"px ").concat(c),b.fillText(L.label,L.x+L.size+3,L.y+w/3)}}},195:function(I,o,b){"use strict";var L,T=this&&this.__extends||(L=function(c,m){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,C){v.__proto__=C}||function(v,C){for(var d in C)Object.prototype.hasOwnProperty.call(C,d)&&(v[d]=C[d])})(c,m)},function(c,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function v(){this.constructor=c}L(c,m),c.prototype=null===m?Object.create(m):(v.prototype=m.prototype,new v)});Object.defineProperty(o,"__esModule",{value:!0}),o.createEdgeCompoundProgram=o.AbstractEdgeProgram=void 0;var w=function(c){function m(v,C,d,f,s){return c.call(this,v,C,d,f,s)||this}return T(m,c),m}(b(171).AbstractProgram);o.AbstractEdgeProgram=w,o.createEdgeCompoundProgram=function(c){return function(){function m(v,C){this.programs=c.map(function(d){return new d(v,C)})}return m.prototype.bufferData=function(){this.programs.forEach(function(v){return v.bufferData()})},m.prototype.allocate=function(v){this.programs.forEach(function(C){return C.allocate(v)})},m.prototype.bind=function(){},m.prototype.computeIndices=function(){this.programs.forEach(function(v){return v.computeIndices()})},m.prototype.render=function(v){this.programs.forEach(function(C){C.bind(),C.bufferData(),C.render(v)})},m.prototype.process=function(v,C,d,f,s){this.programs.forEach(function(i){return i.process(v,C,d,f,s)})},m}()}},909:function(I,o,b){"use strict";var L,T=this&&this.__extends||(L=function(c,m){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,C){v.__proto__=C}||function(v,C){for(var d in C)Object.prototype.hasOwnProperty.call(C,d)&&(v[d]=C[d])})(c,m)},function(c,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function v(){this.constructor=c}L(c,m),c.prototype=null===m?Object.create(m):(v.prototype=m.prototype,new v)});Object.defineProperty(o,"__esModule",{value:!0}),o.createNodeCompoundProgram=o.AbstractNodeProgram=void 0;var w=function(c){function m(v,C,d,f,s){var i=c.call(this,v,C,d,f,s)||this;i.positionLocation=v.getAttribLocation(i.program,"a_position"),i.sizeLocation=v.getAttribLocation(i.program,"a_size"),i.colorLocation=v.getAttribLocation(i.program,"a_color");var r=v.getUniformLocation(i.program,"u_matrix");if(null===r)throw new Error("AbstractNodeProgram: error while getting matrixLocation");i.matrixLocation=r;var n=v.getUniformLocation(i.program,"u_ratio");if(null===n)throw new Error("AbstractNodeProgram: error while getting ratioLocation");i.ratioLocation=n;var a=v.getUniformLocation(i.program,"u_scale");if(null===a)throw new Error("AbstractNodeProgram: error while getting scaleLocation");return i.scaleLocation=a,i}return T(m,c),m.prototype.bind=function(){var v=this.gl;v.enableVertexAttribArray(this.positionLocation),v.enableVertexAttribArray(this.sizeLocation),v.enableVertexAttribArray(this.colorLocation),v.vertexAttribPointer(this.positionLocation,2,v.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,0),v.vertexAttribPointer(this.sizeLocation,1,v.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,8),v.vertexAttribPointer(this.colorLocation,4,v.UNSIGNED_BYTE,!0,this.attributes*Float32Array.BYTES_PER_ELEMENT,12)},m}(b(171).AbstractProgram);o.AbstractNodeProgram=w,o.createNodeCompoundProgram=function(c){return function(){function m(v,C){this.programs=c.map(function(d){return new d(v,C)})}return m.prototype.bufferData=function(){this.programs.forEach(function(v){return v.bufferData()})},m.prototype.allocate=function(v){this.programs.forEach(function(C){return C.allocate(v)})},m.prototype.bind=function(){},m.prototype.render=function(v){this.programs.forEach(function(C){C.bind(),C.bufferData(),C.render(v)})},m.prototype.process=function(v,C,d){this.programs.forEach(function(f){return f.process(v,C,d)})},m}()}},171:(I,o,b)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AbstractProgram=void 0;var L=b(706),T=function(){function w(c,m,v,C,d){this.array=new Float32Array,this.points=C,this.attributes=d,this.gl=c,this.vertexShaderSource=m,this.fragmentShaderSource=v;var f=c.createBuffer();if(null===f)throw new Error("AbstractProgram: error while creating the buffer");this.buffer=f,c.bindBuffer(c.ARRAY_BUFFER,this.buffer),this.vertexShader=(0,L.loadVertexShader)(c,this.vertexShaderSource),this.fragmentShader=(0,L.loadFragmentShader)(c,this.fragmentShaderSource),this.program=(0,L.loadProgram)(c,[this.vertexShader,this.fragmentShader])}return w.prototype.bufferData=function(){var c=this.gl;c.bufferData(c.ARRAY_BUFFER,this.array,c.DYNAMIC_DRAW)},w.prototype.allocate=function(c){this.array=new Float32Array(this.points*this.attributes*c)},w.prototype.hasNothingToRender=function(){return 0===this.array.length},w}();o.AbstractProgram=T},569:function(I,o,b){"use strict";var L=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(o,"__esModule",{value:!0});var T=b(195),w=L(b(805)),c=L(b(483)),m=(0,T.createEdgeCompoundProgram)([c.default,w.default]);o.default=m},805:function(I,o,b){"use strict";var L,T=this&&this.__extends||(L=function(d,f){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i[r])})(d,f)},function(d,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function s(){this.constructor=d}L(d,f),d.prototype=null===f?Object.create(f):(s.prototype=f.prototype,new s)}),w=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(o,"__esModule",{value:!0});var c=b(928),m=w(b(912)),v=w(b(973)),C=function(d){function f(s){var i=d.call(this,s,m.default,v.default,3,9)||this;i.positionLocation=s.getAttribLocation(i.program,"a_position"),i.colorLocation=s.getAttribLocation(i.program,"a_color"),i.normalLocation=s.getAttribLocation(i.program,"a_normal"),i.radiusLocation=s.getAttribLocation(i.program,"a_radius"),i.barycentricLocation=s.getAttribLocation(i.program,"a_barycentric");var r=s.getUniformLocation(i.program,"u_matrix");if(null===r)throw new Error("EdgeArrowHeadProgram: error while getting matrixLocation");i.matrixLocation=r;var n=s.getUniformLocation(i.program,"u_sqrtZoomRatio");if(null===n)throw new Error("EdgeArrowHeadProgram: error while getting sqrtZoomRatioLocation");i.sqrtZoomRatioLocation=n;var a=s.getUniformLocation(i.program,"u_correctionRatio");if(null===a)throw new Error("EdgeArrowHeadProgram: error while getting correctionRatioLocation");return i.correctionRatioLocation=a,i.bind(),i}return T(f,d),f.prototype.bind=function(){var s=this.gl;s.enableVertexAttribArray(this.positionLocation),s.enableVertexAttribArray(this.normalLocation),s.enableVertexAttribArray(this.radiusLocation),s.enableVertexAttribArray(this.colorLocation),s.enableVertexAttribArray(this.barycentricLocation),s.vertexAttribPointer(this.positionLocation,2,s.FLOAT,!1,9*Float32Array.BYTES_PER_ELEMENT,0),s.vertexAttribPointer(this.normalLocation,2,s.FLOAT,!1,9*Float32Array.BYTES_PER_ELEMENT,8),s.vertexAttribPointer(this.radiusLocation,1,s.FLOAT,!1,9*Float32Array.BYTES_PER_ELEMENT,16),s.vertexAttribPointer(this.colorLocation,4,s.UNSIGNED_BYTE,!0,9*Float32Array.BYTES_PER_ELEMENT,20),s.vertexAttribPointer(this.barycentricLocation,3,s.FLOAT,!1,9*Float32Array.BYTES_PER_ELEMENT,24)},f.prototype.computeIndices=function(){},f.prototype.process=function(s,i,r,n,a){if(n)for(var p=27*a,_=p+27;p<_;p++)this.array[p]=0;else{var E=r.size||1,y=i.size||1,h=s.x,e=s.y,t=i.x,l=i.y,u=(0,c.floatColor)(r.color),g=t-h,R=l-e,F=g*g+R*R,A=0,P=0;F&&(A=-R*(F=1/Math.sqrt(F))*E,P=g*F*E);var M=27*a,x=this.array;x[M++]=t,x[M++]=l,x[M++]=-A,x[M++]=-P,x[M++]=y,x[M++]=u,x[M++]=1,x[M++]=0,x[M++]=0,x[M++]=t,x[M++]=l,x[M++]=-A,x[M++]=-P,x[M++]=y,x[M++]=u,x[M++]=0,x[M++]=1,x[M++]=0,x[M++]=t,x[M++]=l,x[M++]=-A,x[M++]=-P,x[M++]=y,x[M++]=u,x[M++]=0,x[M++]=0,x[M]=1}},f.prototype.render=function(s){if(!this.hasNothingToRender()){var i=this.gl;i.useProgram(this.program),i.uniformMatrix3fv(this.matrixLocation,!1,s.matrix),i.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(s.ratio)),i.uniform1f(this.correctionRatioLocation,s.correctionRatio),i.drawArrays(i.TRIANGLES,0,this.array.length/9)}},f}(b(195).AbstractEdgeProgram);o.default=C},483:function(I,o,b){"use strict";var L,T=this&&this.__extends||(L=function(f,s){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(f,s)},function(f,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function i(){this.constructor=f}L(f,s),f.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}),w=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(o,"__esModule",{value:!0});var c=b(195),m=b(928),v=w(b(620)),C=w(b(498)),d=function(f){function s(i){var r=f.call(this,i,v.default,C.default,4,6)||this,n=i.createBuffer();if(null===n)throw new Error("EdgeClampedProgram: error while getting resolutionLocation");r.indicesBuffer=n,r.positionLocation=i.getAttribLocation(r.program,"a_position"),r.colorLocation=i.getAttribLocation(r.program,"a_color"),r.normalLocation=i.getAttribLocation(r.program,"a_normal"),r.radiusLocation=i.getAttribLocation(r.program,"a_radius");var a=i.getUniformLocation(r.program,"u_matrix");if(null===a)throw new Error("EdgeClampedProgram: error while getting matrixLocation");r.matrixLocation=a;var p=i.getUniformLocation(r.program,"u_sqrtZoomRatio");if(null===p)throw new Error("EdgeClampedProgram: error while getting cameraRatioLocation");r.sqrtZoomRatioLocation=p;var _=i.getUniformLocation(r.program,"u_correctionRatio");if(null===_)throw new Error("EdgeClampedProgram: error while getting viewportRatioLocation");return r.correctionRatioLocation=_,r.canUse32BitsIndices=(0,m.canUse32BitsIndices)(i),r.IndicesArray=r.canUse32BitsIndices?Uint32Array:Uint16Array,r.indicesArray=new r.IndicesArray,r.indicesType=r.canUse32BitsIndices?i.UNSIGNED_INT:i.UNSIGNED_SHORT,r.bind(),r}return T(s,f),s.prototype.bind=function(){var i=this.gl;i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),i.enableVertexAttribArray(this.positionLocation),i.enableVertexAttribArray(this.normalLocation),i.enableVertexAttribArray(this.colorLocation),i.enableVertexAttribArray(this.radiusLocation),i.vertexAttribPointer(this.positionLocation,2,i.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,0),i.vertexAttribPointer(this.normalLocation,2,i.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,8),i.vertexAttribPointer(this.colorLocation,4,i.UNSIGNED_BYTE,!0,6*Float32Array.BYTES_PER_ELEMENT,16),i.vertexAttribPointer(this.radiusLocation,1,i.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,20)},s.prototype.process=function(i,r,n,a,p){if(a)for(var _=24*p,E=_+24;_<E;_++)this.array[_]=0;else{var y=n.size||1,h=i.x,e=i.y,t=r.x,l=r.y,u=r.size||1,g=(0,m.floatColor)(n.color),R=t-h,F=l-e,A=R*R+F*F,P=0,M=0;A&&(P=-F*(A=1/Math.sqrt(A))*y,M=R*A*y);var x=24*p,O=this.array;O[x++]=h,O[x++]=e,O[x++]=P,O[x++]=M,O[x++]=g,O[x++]=0,O[x++]=h,O[x++]=e,O[x++]=-P,O[x++]=-M,O[x++]=g,O[x++]=0,O[x++]=t,O[x++]=l,O[x++]=P,O[x++]=M,O[x++]=g,O[x++]=u,O[x++]=t,O[x++]=l,O[x++]=-P,O[x++]=-M,O[x++]=g,O[x]=-u}},s.prototype.computeIndices=function(){for(var i=this.array.length/6,n=new this.IndicesArray(i+i/2),a=0,p=0;a<i;a+=4)n[p++]=a,n[p++]=a+1,n[p++]=a+2,n[p++]=a+2,n[p++]=a+1,n[p++]=a+3;this.indicesArray=n},s.prototype.bufferData=function(){f.prototype.bufferData.call(this);var i=this.gl;i.bufferData(i.ELEMENT_ARRAY_BUFFER,this.indicesArray,i.STATIC_DRAW)},s.prototype.render=function(i){if(!this.hasNothingToRender()){var r=this.gl;r.useProgram(this.program),r.uniformMatrix3fv(this.matrixLocation,!1,i.matrix),r.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(i.ratio)),r.uniform1f(this.correctionRatioLocation,i.correctionRatio),r.drawElements(r.TRIANGLES,this.indicesArray.length,this.indicesType,0)}},s}(c.AbstractEdgeProgram);o.default=d},753:function(I,o,b){"use strict";var L,T=this&&this.__extends||(L=function(d,f){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i[r])})(d,f)},function(d,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function s(){this.constructor=d}L(d,f),d.prototype=null===f?Object.create(f):(s.prototype=f.prototype,new s)}),w=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(o,"__esModule",{value:!0});var c=b(928),m=w(b(223)),v=w(b(498)),C=function(d){function f(s){var i=d.call(this,s,m.default,v.default,4,5)||this,r=s.createBuffer();if(null===r)throw new Error("EdgeProgram: error while creating indicesBuffer");i.indicesBuffer=r,i.positionLocation=s.getAttribLocation(i.program,"a_position"),i.colorLocation=s.getAttribLocation(i.program,"a_color"),i.normalLocation=s.getAttribLocation(i.program,"a_normal");var n=s.getUniformLocation(i.program,"u_matrix");if(null===n)throw new Error("EdgeProgram: error while getting matrixLocation");i.matrixLocation=n;var a=s.getUniformLocation(i.program,"u_correctionRatio");if(null===a)throw new Error("EdgeProgram: error while getting correctionRatioLocation");i.correctionRatioLocation=a;var p=s.getUniformLocation(i.program,"u_sqrtZoomRatio");if(null===p)throw new Error("EdgeProgram: error while getting sqrtZoomRatioLocation");return i.sqrtZoomRatioLocation=p,i.canUse32BitsIndices=(0,c.canUse32BitsIndices)(s),i.IndicesArray=i.canUse32BitsIndices?Uint32Array:Uint16Array,i.indicesArray=new i.IndicesArray,i.indicesType=i.canUse32BitsIndices?s.UNSIGNED_INT:s.UNSIGNED_SHORT,i.bind(),i}return T(f,d),f.prototype.bind=function(){var s=this.gl;s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),s.enableVertexAttribArray(this.positionLocation),s.enableVertexAttribArray(this.normalLocation),s.enableVertexAttribArray(this.colorLocation),s.vertexAttribPointer(this.positionLocation,2,s.FLOAT,!1,5*Float32Array.BYTES_PER_ELEMENT,0),s.vertexAttribPointer(this.normalLocation,2,s.FLOAT,!1,5*Float32Array.BYTES_PER_ELEMENT,8),s.vertexAttribPointer(this.colorLocation,4,s.UNSIGNED_BYTE,!0,5*Float32Array.BYTES_PER_ELEMENT,16)},f.prototype.computeIndices=function(){for(var s=this.array.length/5,r=new this.IndicesArray(s+s/2),n=0,a=0;n<s;n+=4)r[a++]=n,r[a++]=n+1,r[a++]=n+2,r[a++]=n+2,r[a++]=n+1,r[a++]=n+3;this.indicesArray=r},f.prototype.bufferData=function(){d.prototype.bufferData.call(this);var s=this.gl;s.bufferData(s.ELEMENT_ARRAY_BUFFER,this.indicesArray,s.STATIC_DRAW)},f.prototype.process=function(s,i,r,n,a){if(n)for(var p=20*a,_=p+20;p<_;p++)this.array[p]=0;else{var E=r.size||1,y=s.x,h=s.y,e=i.x,t=i.y,l=(0,c.floatColor)(r.color),u=e-y,g=t-h,R=u*u+g*g,F=0,A=0;R&&(F=-g*(R=1/Math.sqrt(R))*E,A=u*R*E);var P=20*a,M=this.array;M[P++]=y,M[P++]=h,M[P++]=F,M[P++]=A,M[P++]=l,M[P++]=y,M[P++]=h,M[P++]=-F,M[P++]=-A,M[P++]=l,M[P++]=e,M[P++]=t,M[P++]=F,M[P++]=A,M[P++]=l,M[P++]=e,M[P++]=t,M[P++]=-F,M[P++]=-A,M[P]=l}},f.prototype.render=function(s){if(!this.hasNothingToRender()){var i=this.gl;i.useProgram(this.program),i.uniformMatrix3fv(this.matrixLocation,!1,s.matrix),i.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(s.ratio)),i.uniform1f(this.correctionRatioLocation,s.correctionRatio),i.drawElements(i.TRIANGLES,this.indicesArray.length,this.indicesType,0)}},f}(b(195).AbstractEdgeProgram);o.default=C},582:function(I,o,b){"use strict";var L,T=this&&this.__extends||(L=function(d,f){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i[r])})(d,f)},function(d,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function s(){this.constructor=d}L(d,f),d.prototype=null===f?Object.create(f):(s.prototype=f.prototype,new s)}),w=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(o,"__esModule",{value:!0});var c=b(928),m=w(b(106)),v=w(b(262)),C=function(d){function f(s){var i=d.call(this,s,m.default,v.default,1,4)||this;return i.bind(),i}return T(f,d),f.prototype.process=function(s,i,r){var n=this.array,a=1*r*4;if(i)return n[a++]=0,n[a++]=0,n[a++]=0,void(n[a++]=0);var p=(0,c.floatColor)(s.color);n[a++]=s.x,n[a++]=s.y,n[a++]=s.size,n[a]=p},f.prototype.render=function(s){if(!this.hasNothingToRender()){var i=this.gl;i.useProgram(this.program),i.uniform1f(this.ratioLocation,1/Math.sqrt(s.ratio)),i.uniform1f(this.scaleLocation,s.scalingRatio),i.uniformMatrix3fv(this.matrixLocation,!1,s.matrix),i.drawArrays(i.POINTS,0,this.array.length/4)}},f}(b(909).AbstractNodeProgram);o.default=C},706:(I,o)=>{"use strict";function b(L,T,w){var m=T.createShader("VERTEX"===L?T.VERTEX_SHADER:T.FRAGMENT_SHADER);if(null===m)throw new Error("loadShader: error while creating the shader");if(T.shaderSource(m,w),T.compileShader(m),!T.getShaderParameter(m,T.COMPILE_STATUS)){var v=T.getShaderInfoLog(m);throw T.deleteShader(m),new Error("loadShader: error while compiling the shader:\n".concat(v,"\n").concat(w))}return m}Object.defineProperty(o,"__esModule",{value:!0}),o.loadProgram=o.loadFragmentShader=o.loadVertexShader=void 0,o.loadVertexShader=function(L,T){return b("VERTEX",L,T)},o.loadFragmentShader=function(L,T){return b("FRAGMENT",L,T)},o.loadProgram=function(L,T){var w,c,m=L.createProgram();if(null===m)throw new Error("loadProgram: error while creating the program.");for(w=0,c=T.length;w<c;w++)L.attachShader(m,T[w]);if(L.linkProgram(m),!L.getProgramParameter(m,L.LINK_STATUS))throw L.deleteProgram(m),new Error("loadProgram: error while linking the program.");return m}},310:function(I,o,b){"use strict";var L=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_SETTINGS=o.validateSettings=void 0;var T=L(b(622)),w=L(b(61)),c=L(b(942)),m=L(b(582)),v=L(b(753)),C=L(b(569));o.validateSettings=function(d){if("number"!=typeof d.labelDensity||d.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var f=d.minCameraRatio,s=d.maxCameraRatio;if("number"==typeof f&&"number"==typeof s&&s<f)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")},o.DEFAULT_SETTINGS={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeClickEvents:!1,enableEdgeWheelEvents:!1,enableEdgeHoverEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,labelRenderer:T.default,hoverRenderer:w.default,edgeLabelRenderer:c.default,allowInvalidContainer:!1,nodeProgramClasses:{circle:m.default},edgeProgramClasses:{arrow:C.default,line:v.default}}},159:function(I,o,b){"use strict";var L,T=this&&this.__extends||(L=function(h,e){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(t[u]=l[u])})(h,e)},function(h,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=h}L(h,e),h.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),w=this&&this.__assign||function(){return w=Object.assign||function(h){for(var e,t=1,l=arguments.length;t<l;t++)for(var u in e=arguments[t])Object.prototype.hasOwnProperty.call(e,u)&&(h[u]=e[u]);return h},w.apply(this,arguments)},c=this&&this.__values||function(h){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&h[e],l=0;if(t)return t.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&l>=h.length&&(h=void 0),{value:h&&h[l++],done:!h}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(o,"__esModule",{value:!0});var v=m(b(764)),C=m(b(269)),d=m(b(134)),f=b(699),s=b(928),i=b(730),r=b(310),n=m(b(508)),a=b(700),p=b(628);function _(h,e,t){if(!t.hasOwnProperty("x")||!t.hasOwnProperty("y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(e,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return t.color||(t.color=h.defaultNodeColor),t.label||""===t.label||(t.label=null),t.label=null!=t.label?""+t.label:null,t.size||(t.size=2),t.hasOwnProperty("hidden")||(t.hidden=!1),t.hasOwnProperty("highlighted")||(t.highlighted=!1),t.hasOwnProperty("forceLabel")||(t.forceLabel=!1),t.type&&""!==t.type||(t.type=h.defaultNodeType),t.zIndex||(t.zIndex=0),t}function E(h,e,t){return t.color||(t.color=h.defaultEdgeColor),t.label||(t.label=""),t.size||(t.size=.5),t.hasOwnProperty("hidden")||(t.hidden=!1),t.hasOwnProperty("forceLabel")||(t.forceLabel=!1),t.type&&""!==t.type||(t.type=h.defaultEdgeType),t.zIndex||(t.zIndex=0),t}var y=function(h){function e(t,l,u){void 0===u&&(u={});var g=h.call(this)||this;if(g.elements={},g.canvasContexts={},g.webGLContexts={},g.activeListeners={},g.quadtree=new d.default,g.labelGrid=new i.LabelGrid,g.nodeDataCache={},g.edgeDataCache={},g.nodesWithForcedLabels=[],g.edgesWithForcedLabels=[],g.nodeExtent={x:[0,1],y:[0,1]},g.matrix=(0,a.identity)(),g.invMatrix=(0,a.identity)(),g.correctionRatio=1,g.customBBox=null,g.normalizationFunction=(0,s.createNormalizationFunction)({x:[0,1],y:[0,1]}),g.cameraSizeRatio=1,g.width=0,g.height=0,g.pixelRatio=(0,s.getPixelRatio)(),g.displayedLabels=new Set,g.highlightedNodes=new Set,g.hoveredNode=null,g.hoveredEdge=null,g.renderFrame=null,g.renderHighlightedNodesFrame=null,g.needToProcess=!1,g.needToSoftProcess=!1,g.checkEdgesEventsFrame=null,g.nodePrograms={},g.hoverNodePrograms={},g.edgePrograms={},g.settings=(0,s.assign)({},r.DEFAULT_SETTINGS,u),(0,r.validateSettings)(g.settings),(0,s.validateGraph)(t),!(l instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");for(var R in g.graph=t,g.container=l,g.createWebGLContext("edges",{preserveDrawingBuffer:!0}),g.createCanvasContext("edgeLabels"),g.createWebGLContext("nodes"),g.createCanvasContext("labels"),g.createCanvasContext("hovers"),g.createWebGLContext("hoverNodes"),g.createCanvasContext("mouse"),g.webGLContexts){var F=g.webGLContexts[R];F.blendFunc(F.ONE,F.ONE_MINUS_SRC_ALPHA),F.enable(F.BLEND)}for(var A in g.settings.nodeProgramClasses){var P=g.settings.nodeProgramClasses[A];g.nodePrograms[A]=new P(g.webGLContexts.nodes,g),g.hoverNodePrograms[A]=new P(g.webGLContexts.hoverNodes,g)}for(var A in g.settings.edgeProgramClasses)g.edgePrograms[A]=new(0,g.settings.edgeProgramClasses[A])(g.webGLContexts.edges,g);return g.resize(),g.camera=new v.default,g.bindCameraHandlers(),g.mouseCaptor=new C.default(g.elements.mouse,g),g.touchCaptor=new n.default(g.elements.mouse,g),g.bindEventHandlers(),g.bindGraphHandlers(),g.handleSettingsUpdate(),g.process(),g.render(),g}return T(e,h),e.prototype.createCanvas=function(t){var l=(0,s.createElement)("canvas",{position:"absolute"},{class:"sigma-".concat(t)});return this.elements[t]=l,this.container.appendChild(l),l},e.prototype.createCanvasContext=function(t){var l=this.createCanvas(t);return this.canvasContexts[t]=l.getContext("2d",{preserveDrawingBuffer:!1,antialias:!1}),this},e.prototype.createWebGLContext=function(t,l){var u,g=this.createCanvas(t),R=w({preserveDrawingBuffer:!1,antialias:!1},l||{});return(u=g.getContext("webgl2",R))||(u=g.getContext("webgl",R)),u||(u=g.getContext("experimental-webgl",R)),this.webGLContexts[t]=u,this},e.prototype.bindCameraHandlers=function(){var t=this;return this.activeListeners.camera=function(){t._scheduleRefresh()},this.camera.on("updated",this.activeListeners.camera),this},e.prototype.mouseIsOnNode=function(t,l,u){var g=t.x,R=t.y,F=l.x,A=l.y;return g>F-u&&g<F+u&&R>A-u&&R<A+u&&Math.sqrt(Math.pow(g-F,2)+Math.pow(R-A,2))<u},e.prototype.getQuadNodes=function(t){var l=this.viewportToFramedGraph(t);return this.quadtree.point(l.x,1-l.y)},e.prototype.getNodeAtPosition=function(t){for(var l=t.x,u=t.y,g=this.getQuadNodes(t),R=1/0,F=null,A=0,P=g.length;A<P;A++){var M=g[A],x=this.nodeDataCache[M],O=this.framedGraphToViewport(x),S=this.scaleSize(x.size);if(!x.hidden&&this.mouseIsOnNode(t,O,S)){var D=Math.sqrt(Math.pow(l-O.x,2)+Math.pow(u-O.y,2));D<R&&(R=D,F=M)}}return F},e.prototype.bindEventHandlers=function(){var t=this;this.activeListeners.handleResize=function(){t.needToSoftProcess=!0,t._scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(u){var g={event:u,preventSigmaDefault:function(){u.preventSigmaDefault()}},R=t.getNodeAtPosition(u);if(R&&t.hoveredNode!==R&&!t.nodeDataCache[R].hidden)return t.hoveredNode&&t.emit("leaveNode",w(w({},g),{node:t.hoveredNode})),t.hoveredNode=R,t.emit("enterNode",w(w({},g),{node:R})),void t.scheduleHighlightedNodesRender();if(t.hoveredNode){var F=t.nodeDataCache[t.hoveredNode],A=t.framedGraphToViewport(F),P=t.scaleSize(F.size);if(!t.mouseIsOnNode(u,A,P)){var M=t.hoveredNode;return t.hoveredNode=null,t.emit("leaveNode",w(w({},g),{node:M})),void t.scheduleHighlightedNodesRender()}}!0===t.settings.enableEdgeHoverEvents?t.checkEdgeHoverEvents(g):"debounce"===t.settings.enableEdgeHoverEvents&&(t.checkEdgesEventsFrame||(t.checkEdgesEventsFrame=(0,s.requestFrame)(function(){t.checkEdgeHoverEvents(g),t.checkEdgesEventsFrame=null})))};var l=function(u){return function(g){var R={event:g,preventSigmaDefault:function(){g.preventSigmaDefault()}},F=g.original.isFakeSigmaMouseEvent?t.getNodeAtPosition(g):t.hoveredNode;if(F)return t.emit("".concat(u,"Node"),w(w({},R),{node:F}));if("wheel"===u?t.settings.enableEdgeWheelEvents:t.settings.enableEdgeClickEvents){var A=t.getEdgeAtPoint(g.x,g.y);if(A)return t.emit("".concat(u,"Edge"),w(w({},R),{edge:A}))}return t.emit("".concat(u,"Stage"),R)}};return this.activeListeners.handleClick=l("click"),this.activeListeners.handleRightClick=l("rightClick"),this.activeListeners.handleDoubleClick=l("doubleClick"),this.activeListeners.handleWheel=l("wheel"),this.activeListeners.handleDown=l("down"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this},e.prototype.bindGraphHandlers=function(){var t=this,l=this.graph;return this.activeListeners.graphUpdate=function(){t.needToProcess=!0,t._scheduleRefresh()},this.activeListeners.softGraphUpdate=function(){t.needToSoftProcess=!0,t._scheduleRefresh()},this.activeListeners.dropNodeGraphUpdate=function(u){delete t.nodeDataCache[u.key],t.hoveredNode===u.key&&(t.hoveredNode=null),t.activeListeners.graphUpdate()},this.activeListeners.dropEdgeGraphUpdate=function(u){delete t.edgeDataCache[u.key],t.hoveredEdge===u.key&&(t.hoveredEdge=null),t.activeListeners.graphUpdate()},this.activeListeners.clearEdgesGraphUpdate=function(){t.edgeDataCache={},t.hoveredEdge=null,t.activeListeners.graphUpdate()},this.activeListeners.clearGraphUpdate=function(){t.nodeDataCache={},t.hoveredNode=null,t.activeListeners.clearEdgesGraphUpdate()},l.on("nodeAdded",this.activeListeners.graphUpdate),l.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),l.on("nodeAttributesUpdated",this.activeListeners.softGraphUpdate),l.on("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),l.on("edgeAdded",this.activeListeners.graphUpdate),l.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),l.on("edgeAttributesUpdated",this.activeListeners.softGraphUpdate),l.on("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),l.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),l.on("cleared",this.activeListeners.clearGraphUpdate),this},e.prototype.checkEdgeHoverEvents=function(t){var l=this.hoveredNode?null:this.getEdgeAtPoint(t.event.x,t.event.y);return l!==this.hoveredEdge&&(this.hoveredEdge&&this.emit("leaveEdge",w(w({},t),{edge:this.hoveredEdge})),l&&this.emit("enterEdge",w(w({},t),{edge:l})),this.hoveredEdge=l),this},e.prototype.getEdgeAtPoint=function(t,l){var u,g,R=this,F=this.edgeDataCache,A=this.nodeDataCache;if(!(0,p.isPixelColored)(this.webGLContexts.edges,t*this.pixelRatio,l*this.pixelRatio))return null;var P=this.viewportToGraph({x:t,y:l}),M=P.x,x=P.y,O=0;if(this.graph.someEdge(function(B,W,k,q,H,V){var Y=H.x,Z=H.y,K=V.x,Q=V.y;if(F[B].hidden||A[k].hidden||A[q].hidden)return!1;if(Y!==K||Z!==Q){var ie=Math.sqrt(Math.pow(K-Y,2)+Math.pow(Q-Z,2)),J=R.graphToViewport({x:Y,y:Z}),ne=J.x,oe=J.y,ee=R.graphToViewport({x:K,y:Q}),se=ee.y,he=Math.sqrt(Math.pow(ee.x-ne,2)+Math.pow(se-oe,2));return O=ie/he,!0}}),!O)return null;var S=this.graph.filterEdges(function(B,W,k,q,H,V){return!(F[B].hidden||A[k].hidden||A[q].hidden)&&(!!(0,p.doEdgeCollideWithPoint)(M,x,H.x,H.y,V.x,V.y,F[B].size*O/R.cameraSizeRatio)||void 0)});if(0===S.length)return null;var D=S[S.length-1],U=-1/0;try{for(var N=c(S),z=N.next();!z.done;z=N.next()){var G=z.value,j=this.graph.getEdgeAttribute(G,"zIndex");j>=U&&(D=G,U=j)}}catch(B){u={error:B}}finally{try{z&&!z.done&&(g=N.return)&&g.call(N)}finally{if(u)throw u.error}}return D},e.prototype.process=function(t){var l=this;void 0===t&&(t=!1);var u=this.graph,g=this.settings,R=this.getDimensions(),F=[1/0,-1/0],A=[1/0,-1/0];this.quadtree.clear(),this.labelGrid.resizeAndClear(R,g.labelGridCellSize),this.highlightedNodes=new Set,this.nodeExtent=(0,s.graphExtent)(u),this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[];var P=new v.default,M=(0,s.matrixFromCamera)(P.getState(),this.getDimensions(),this.getGraphDimensions(),this.getSetting("stagePadding")||0);this.normalizationFunction=(0,s.createNormalizationFunction)(this.customBBox||this.nodeExtent);for(var x={},O=u.nodes(),S=0,D=O.length;S<D;S++){var U=O[S],N=Object.assign({},u.getNodeAttributes(U));g.nodeReducer&&(N=g.nodeReducer(U,N)),x[(G=_(this.settings,U,N)).type]=(x[G.type]||0)+1,this.nodeDataCache[U]=G,this.normalizationFunction.applyTo(G),G.forceLabel&&this.nodesWithForcedLabels.push(U),this.settings.zIndex&&(G.zIndex<F[0]&&(F[0]=G.zIndex),G.zIndex>F[1]&&(F[1]=G.zIndex))}for(var z in this.nodePrograms){if(!this.nodePrograms.hasOwnProperty(z))throw new Error('Sigma: could not find a suitable program for node type "'.concat(z,'"!'));t||this.nodePrograms[z].allocate(x[z]||0),x[z]=0}for(this.settings.zIndex&&F[0]!==F[1]&&(O=(0,s.zIndexOrdering)(F,function(Z){return l.nodeDataCache[Z].zIndex},O)),S=0,D=O.length;S<D;S++){var G=this.nodeDataCache[U=O[S]];this.quadtree.add(U,G.x,1-G.y,G.size/this.width),"string"!=typeof G.label||G.hidden||this.labelGrid.add(U,G.size,this.framedGraphToViewport(G,{matrix:M})),this.nodePrograms[G.type].process(G,G.hidden,x[G.type]++),G.highlighted&&!G.hidden&&this.highlightedNodes.add(U)}this.labelGrid.organize();var j={},B=u.edges();for(S=0,D=B.length;S<D;S++){var W=B[S];N=Object.assign({},u.getEdgeAttributes(W)),g.edgeReducer&&(N=g.edgeReducer(W,N)),j[(G=E(this.settings,0,N)).type]=(j[G.type]||0)+1,this.edgeDataCache[W]=G,G.forceLabel&&!G.hidden&&this.edgesWithForcedLabels.push(W),this.settings.zIndex&&(G.zIndex<A[0]&&(A[0]=G.zIndex),G.zIndex>A[1]&&(A[1]=G.zIndex))}for(var z in this.edgePrograms){if(!this.edgePrograms.hasOwnProperty(z))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(z,'"!'));t||this.edgePrograms[z].allocate(j[z]||0),j[z]=0}for(this.settings.zIndex&&A[0]!==A[1]&&(B=(0,s.zIndexOrdering)(A,function(Z){return l.edgeDataCache[Z].zIndex},B)),S=0,D=B.length;S<D;S++){G=this.edgeDataCache[W=B[S]];var k=u.extremities(W),q=this.nodeDataCache[k[0]],H=this.nodeDataCache[k[1]];this.edgePrograms[G.type].process(q,H,G,G.hidden||q.hidden||H.hidden,j[G.type]++)}for(var z in this.edgePrograms){var Y=this.edgePrograms[z];t||"function"!=typeof Y.computeIndices||Y.computeIndices()}return this},e.prototype.handleSettingsUpdate=function(){return this.camera.minRatio=this.settings.minCameraRatio,this.camera.maxRatio=this.settings.maxCameraRatio,this.camera.setState(this.camera.validateState(this.camera.getState())),this},e.prototype._refresh=function(){return this.needToProcess?this.process():this.needToSoftProcess&&this.process(!0),this.needToProcess=!1,this.needToSoftProcess=!1,this.render(),this},e.prototype._scheduleRefresh=function(){var t=this;return this.renderFrame||(this.renderFrame=(0,s.requestFrame)(function(){t._refresh(),t.renderFrame=null})),this},e.prototype.renderLabels=function(){if(!this.settings.renderLabels)return this;var t,l=this.camera.getState();if(l.ratio>=1)t=new Set(this.graph.nodes());else{var u=this.viewRectangle();t=new Set(this.quadtree.rectangle(u.x1,1-u.y1,u.x2,1-u.y2,u.height))}var g=this.labelGrid.getLabelsToDisplay(l.ratio,this.settings.labelDensity).concat(this.nodesWithForcedLabels);this.displayedLabels=new Set;for(var R=this.canvasContexts.labels,F=0,A=g.length;F<A;F++){var P=g[F],M=this.nodeDataCache[P];if(!this.displayedLabels.has(P)&&!M.hidden){var x=this.framedGraphToViewport(M),O=x.x,S=x.y,D=this.scaleSize(M.size);!M.forceLabel&&D<this.settings.labelRenderedSizeThreshold||t.has(P)&&(this.displayedLabels.add(P),this.settings.labelRenderer(R,w(w({key:P},M),{size:D,x:O,y:S}),this.settings))}}return this},e.prototype.renderEdgeLabels=function(){if(!this.settings.renderEdgeLabels)return this;var t=this.canvasContexts.edgeLabels;t.clearRect(0,0,this.width,this.height);for(var l=(0,i.edgeLabelsToDisplayFromNodes)({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedLabels,highlightedNodes:this.highlightedNodes}).concat(this.edgesWithForcedLabels),u=new Set,g=0,R=l.length;g<R;g++){var F=l[g],A=this.graph.extremities(F),P=this.nodeDataCache[A[0]],M=this.nodeDataCache[A[1]],x=this.edgeDataCache[F];u.has(F)||x.hidden||P.hidden||M.hidden||(this.settings.edgeLabelRenderer(t,w(w({key:F},x),{size:this.scaleSize(x.size)}),w(w(w({key:A[0]},P),this.framedGraphToViewport(P)),{size:this.scaleSize(P.size)}),w(w(w({key:A[1]},M),this.framedGraphToViewport(M)),{size:this.scaleSize(M.size)}),this.settings),u.add(F))}return this},e.prototype.renderHighlightedNodes=function(){var t=this,l=this.canvasContexts.hovers;l.clearRect(0,0,this.width,this.height);var u=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&u.push(this.hoveredNode),this.highlightedNodes.forEach(function(A){A!==t.hoveredNode&&u.push(A)}),u.forEach(function(A){return O=(x=t.framedGraphToViewport(M=t.nodeDataCache[P=A])).x,S=x.y,D=t.scaleSize(M.size),void t.settings.hoverRenderer(l,w(w({key:P},M),{size:D,x:O,y:S}),t.settings);var P,M,x,O,S,D});var g={};for(var R in u.forEach(function(A){var P=t.nodeDataCache[A].type;g[P]=(g[P]||0)+1}),this.hoverNodePrograms)this.hoverNodePrograms[R].allocate(g[R]||0),g[R]=0;for(var R in u.forEach(function(P){var M=t.nodeDataCache[P];t.hoverNodePrograms[M.type].process(M,M.hidden,g[M.type]++)}),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.hoverNodePrograms){var F=this.hoverNodePrograms[R];F.bind(),F.bufferData(),F.render({matrix:this.matrix,width:this.width,height:this.height,ratio:this.camera.ratio,correctionRatio:this.correctionRatio/this.camera.ratio,scalingRatio:this.pixelRatio})}},e.prototype.scheduleHighlightedNodesRender=function(){var t=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=(0,s.requestFrame)(function(){t.renderHighlightedNodesFrame=null,t.renderHighlightedNodes(),t.renderEdgeLabels()}))},e.prototype.render=function(){var t=this;this.emit("beforeRender");var l=function(){return t.emit("afterRender"),t};if(this.renderFrame&&((0,s.cancelFrame)(this.renderFrame),this.renderFrame=null,this.needToProcess=!1,this.needToSoftProcess=!1),this.resize(),this.clear(),this.updateCachedValues(),!this.graph.order)return l();var u=this.mouseCaptor,g=this.camera.isAnimated()||u.isMoving||u.draggedEvents||u.currentWheelDirection,R=this.camera.getState(),F=this.getDimensions(),A=this.getGraphDimensions(),P=this.getSetting("stagePadding")||0;for(var M in this.matrix=(0,s.matrixFromCamera)(R,F,A,P),this.invMatrix=(0,s.matrixFromCamera)(R,F,A,P,!0),this.correctionRatio=(0,s.getMatrixImpact)(this.matrix,R,F),this.nodePrograms)(x=this.nodePrograms[M]).bind(),x.bufferData(),x.render({matrix:this.matrix,width:this.width,height:this.height,ratio:R.ratio,correctionRatio:this.correctionRatio/R.ratio,scalingRatio:this.pixelRatio});if(!this.settings.hideEdgesOnMove||!g)for(var M in this.edgePrograms){var x;(x=this.edgePrograms[M]).bind(),x.bufferData(),x.render({matrix:this.matrix,width:this.width,height:this.height,ratio:R.ratio,correctionRatio:this.correctionRatio/R.ratio,scalingRatio:this.pixelRatio})}return this.settings.hideLabelsOnMove&&g||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),l()},e.prototype.updateCachedValues=function(){var t=this.camera.getState().ratio;this.cameraSizeRatio=Math.sqrt(t)},e.prototype.getCamera=function(){return this.camera},e.prototype.getContainer=function(){return this.container},e.prototype.getGraph=function(){return this.graph},e.prototype.getMouseCaptor=function(){return this.mouseCaptor},e.prototype.getTouchCaptor=function(){return this.touchCaptor},e.prototype.getDimensions=function(){return{width:this.width,height:this.height}},e.prototype.getGraphDimensions=function(){var t=this.customBBox||this.nodeExtent;return{width:t.x[1]-t.x[0]||1,height:t.y[1]-t.y[0]||1}},e.prototype.getNodeDisplayData=function(t){var l=this.nodeDataCache[t];return l?Object.assign({},l):void 0},e.prototype.getEdgeDisplayData=function(t){var l=this.edgeDataCache[t];return l?Object.assign({},l):void 0},e.prototype.getSettings=function(){return w({},this.settings)},e.prototype.getSetting=function(t){return this.settings[t]},e.prototype.setSetting=function(t,l){return this.settings[t]=l,(0,r.validateSettings)(this.settings),this.handleSettingsUpdate(),this.needToProcess=!0,this._scheduleRefresh(),this},e.prototype.updateSetting=function(t,l){return this.settings[t]=l(this.settings[t]),(0,r.validateSettings)(this.settings),this.handleSettingsUpdate(),this.needToProcess=!0,this._scheduleRefresh(),this},e.prototype.resize=function(){var t=this.width,l=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=(0,s.getPixelRatio)(),0===this.width){if(!this.settings.allowInvalidContainer)throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seing this error.");this.width=1}if(0===this.height){if(!this.settings.allowInvalidContainer)throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seing this error.");this.height=1}if(t===this.width&&l===this.height)return this;for(var u in this.emit("resize"),this.elements){var g=this.elements[u];g.style.width=this.width+"px",g.style.height=this.height+"px"}for(var u in this.canvasContexts)this.elements[u].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[u].setAttribute("height",this.height*this.pixelRatio+"px"),1!==this.pixelRatio&&this.canvasContexts[u].scale(this.pixelRatio,this.pixelRatio);for(var u in this.webGLContexts)this.elements[u].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[u].setAttribute("height",this.height*this.pixelRatio+"px"),this.webGLContexts[u].viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio);return this},e.prototype.clear=function(){return this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT),this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this},e.prototype.refresh=function(){return this.needToProcess=!0,this._refresh(),this},e.prototype.scheduleRefresh=function(){return this.needToProcess=!0,this._scheduleRefresh(),this},e.prototype.getViewportZoomedState=function(t,l){var u=this.camera.getState(),R=u.angle,F=u.x,A=u.y,P=l/u.ratio,M={x:this.width/2,y:this.height/2},x=this.viewportToFramedGraph(t),O=this.viewportToFramedGraph(M);return{angle:R,x:(x.x-O.x)*(1-P)+F,y:(x.y-O.y)*(1-P)+A,ratio:l}},e.prototype.viewRectangle=function(){var t=0*this.width/8,l=0*this.height/8,u=this.viewportToFramedGraph({x:0-t,y:0-l}),g=this.viewportToFramedGraph({x:this.width+t,y:0-l}),R=this.viewportToFramedGraph({x:0,y:this.height+l});return{x1:u.x,y1:u.y,x2:g.x,y2:g.y,height:g.y-R.y}},e.prototype.framedGraphToViewport=function(t,l){void 0===l&&(l={});var g=l.matrix?l.matrix:l.cameraState||l.viewportDimensions||l.graphDimensions?(0,s.matrixFromCamera)(l.cameraState||this.camera.getState(),l.viewportDimensions||this.getDimensions(),l.graphDimensions||this.getGraphDimensions(),l.padding||this.getSetting("stagePadding")||0):this.matrix,R=(0,a.multiplyVec2)(g,t);return{x:(1+R.x)*this.width/2,y:(1-R.y)*this.height/2}},e.prototype.viewportToFramedGraph=function(t,l){void 0===l&&(l={});var g=l.matrix?l.matrix:l.cameraState||l.viewportDimensions||!l.graphDimensions?(0,s.matrixFromCamera)(l.cameraState||this.camera.getState(),l.viewportDimensions||this.getDimensions(),l.graphDimensions||this.getGraphDimensions(),l.padding||this.getSetting("stagePadding")||0,!0):this.invMatrix,R=(0,a.multiplyVec2)(g,{x:t.x/this.width*2-1,y:1-t.y/this.height*2});return isNaN(R.x)&&(R.x=0),isNaN(R.y)&&(R.y=0),R},e.prototype.viewportToGraph=function(t,l){return void 0===l&&(l={}),this.normalizationFunction.inverse(this.viewportToFramedGraph(t,l))},e.prototype.graphToViewport=function(t,l){return void 0===l&&(l={}),this.framedGraphToViewport(this.normalizationFunction(t),l)},e.prototype.getBBox=function(){return(0,s.graphExtent)(this.graph)},e.prototype.getCustomBBox=function(){return this.customBBox},e.prototype.setCustomBBox=function(t){return this.customBBox=t,this._scheduleRefresh(),this},e.prototype.kill=function(){var t=this.graph;this.emit("kill"),this.removeAllListeners(),this.camera.removeListener("updated",this.activeListeners.camera),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),t.removeListener("nodeAdded",this.activeListeners.dropNodeGraphUpdate),t.removeListener("nodeDropped",this.activeListeners.graphUpdate),t.removeListener("nodeAttributesUpdated",this.activeListeners.softGraphUpdate),t.removeListener("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),t.removeListener("edgeAdded",this.activeListeners.graphUpdate),t.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),t.removeListener("edgeAttributesUpdated",this.activeListeners.softGraphUpdate),t.removeListener("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),t.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),t.removeListener("cleared",this.activeListeners.clearGraphUpdate),this.quadtree=new d.default,this.nodeDataCache={},this.edgeDataCache={},this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[],this.highlightedNodes.clear(),this.renderFrame&&((0,s.cancelFrame)(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&((0,s.cancelFrame)(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var l=this.container;l.firstChild;)l.removeChild(l.firstChild)},e.prototype.scaleSize=function(t){return t/this.cameraSizeRatio},e.prototype.getCanvases=function(){return w({},this.elements)},e}(f.TypedEventEmitter);o.default=y},699:function(I,o,b){"use strict";var L,T=this&&this.__extends||(L=function(c,m){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,C){v.__proto__=C}||function(v,C){for(var d in C)Object.prototype.hasOwnProperty.call(C,d)&&(v[d]=C[d])})(c,m)},function(c,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function v(){this.constructor=c}L(c,m),c.prototype=null===m?Object.create(m):(v.prototype=m.prototype,new v)});Object.defineProperty(o,"__esModule",{value:!0}),o.TypedEventEmitter=void 0;var w=function(c){function m(){var v=c.call(this)||this;return v.rawEmitter=v,v}return T(m,c),m}(b(187).EventEmitter);o.TypedEventEmitter=w},751:function(I,o,b){"use strict";var L=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(o,"__esModule",{value:!0}),o.animateNodes=o.ANIMATE_DEFAULTS=void 0;var T=b(928),w=L(b(358));o.ANIMATE_DEFAULTS={easing:"quadraticInOut",duration:150},o.animateNodes=function(c,m,v,C){var d=Object.assign({},o.ANIMATE_DEFAULTS,v),f="function"==typeof d.easing?d.easing:w.default[d.easing],s=Date.now(),i={};for(var r in m){var n=m[r];for(var a in i[r]={},n)i[r][a]=c.getNodeAttribute(r,a)}var p=null,_=function(){p=null;var E=(Date.now()-s)/d.duration;if(E>=1){for(var y in m){var h=m[y];for(var e in h)c.setNodeAttribute(y,e,h[e])}"function"==typeof C&&C()}else{for(var y in E=f(E),m){h=m[y];var t=i[y];for(var e in h)c.setNodeAttribute(y,e,h[e]*E+t[e]*(1-E))}p=(0,T.requestFrame)(_)}};return _(),function(){p&&(0,T.cancelFrame)(p)}}},634:(I,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.HTML_COLORS=void 0,o.HTML_COLORS={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"}},358:(I,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.cubicInOut=o.cubicOut=o.cubicIn=o.quadraticInOut=o.quadraticOut=o.quadraticIn=o.linear=void 0,o.linear=function(L){return L},o.quadraticIn=function(L){return L*L},o.quadraticOut=function(L){return L*(2-L)},o.quadraticInOut=function(L){return(L*=2)<1?.5*L*L:-.5*(--L*(L-2)-1)},o.cubicIn=function(L){return L*L*L},o.cubicOut=function(L){return--L*L*L+1},o.cubicInOut=function(L){return(L*=2)<1?.5*L*L*L:.5*((L-=2)*L*L+2)},o.default={linear:o.linear,quadraticIn:o.quadraticIn,quadraticOut:o.quadraticOut,quadraticInOut:o.quadraticInOut,cubicIn:o.cubicIn,cubicOut:o.cubicOut,cubicInOut:o.cubicInOut}},628:(I,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.doEdgeCollideWithPoint=o.isPixelColored=void 0,o.isPixelColored=function(b,L,T){var w=new Uint8Array(4);return b.readPixels(L,b.drawingBufferHeight-T,1,1,b.RGBA,b.UNSIGNED_BYTE,w),w[3]>0},o.doEdgeCollideWithPoint=function(b,L,T,w,c,m,v){return!(b<T-v&&b<c-v||L<w-v&&L<m-v||b>T+v&&b>c+v||L>w+v&&L>m+v||!(Math.abs((c-T)*(w-L)-(T-b)*(m-w))/Math.sqrt(Math.pow(c-T,2)+Math.pow(m-w,2))<v/2))}},928:function(I,o,b){"use strict";var L=this&&this.__read||function(E,y){var h="function"==typeof Symbol&&E[Symbol.iterator];if(!h)return E;var e,t,l=h.call(E),u=[];try{for(;(void 0===y||y-- >0)&&!(e=l.next()).done;)u.push(e.value)}catch(g){t={error:g}}finally{try{e&&!e.done&&(h=l.return)&&h.call(l)}finally{if(t)throw t.error}}return u},T=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(o,"__esModule",{value:!0}),o.validateGraph=o.canUse32BitsIndices=o.extractPixel=o.getMatrixImpact=o.matrixFromCamera=o.getCorrectionRatio=o.floatColor=o.floatArrayColor=o.parseColor=o.zIndexOrdering=o.createNormalizationFunction=o.graphExtent=o.getPixelRatio=o.createElement=o.cancelFrame=o.requestFrame=o.assignDeep=o.assign=o.isPlainObject=void 0;var w=T(b(186)),c=b(700),m=b(634);function v(E){return"object"==typeof E&&null!==E&&E.constructor===Object}o.isPlainObject=v,o.assign=function(E){for(var y=[],h=1;h<arguments.length;h++)y[h-1]=arguments[h];E=E||{};for(var e=0,t=y.length;e<t;e++){var l=y[e];l&&Object.assign(E,l)}return E},o.assignDeep=function E(y){for(var h=[],e=1;e<arguments.length;e++)h[e-1]=arguments[e];y=y||{};for(var t=0,l=h.length;t<l;t++){var u=h[t];if(u)for(var g in u)y[g]=v(u[g])?E(y[g],u[g]):u[g]}return y},o.requestFrame="undefined"!=typeof requestAnimationFrame?function(E){return requestAnimationFrame(E)}:function(E){return setTimeout(E,0)},o.cancelFrame="undefined"!=typeof cancelAnimationFrame?function(E){return cancelAnimationFrame(E)}:function(E){return clearTimeout(E)},o.createElement=function(E,y,h){var e=document.createElement(E);if(y)for(var t in y)e.style[t]=y[t];if(h)for(var t in h)e.setAttribute(t,h[t]);return e},o.getPixelRatio=function(){return void 0!==window.devicePixelRatio?window.devicePixelRatio:1},o.graphExtent=function(E){if(!E.order)return{x:[0,1],y:[0,1]};var y=1/0,h=-1/0,e=1/0,t=-1/0;return E.forEachNode(function(l,u){var g=u.x,R=u.y;g<y&&(y=g),g>h&&(h=g),R<e&&(e=R),R>t&&(t=R)}),{x:[y,h],y:[e,t]}},o.createNormalizationFunction=function(E){var y=L(E.x,2),h=y[0],e=y[1],t=L(E.y,2),l=t[0],u=t[1],g=Math.max(e-h,u-l),R=(e+h)/2,F=(u+l)/2;(0===g||Math.abs(g)===1/0||isNaN(g))&&(g=1),isNaN(R)&&(R=0),isNaN(F)&&(F=0);var A=function(P){return{x:.5+(P.x-R)/g,y:.5+(P.y-F)/g}};return A.applyTo=function(P){P.x=.5+(P.x-R)/g,P.y=.5+(P.y-F)/g},A.inverse=function(P){return{x:R+g*(P.x-.5),y:F+g*(P.y-.5)}},A.ratio=g,A},o.zIndexOrdering=function(E,y,h){return h.sort(function(e,t){var l=y(e)||0,u=y(t)||0;return l<u?-1:l>u?1:0})};var C=new Int8Array(4),d=new Int32Array(C.buffer,0,1),f=new Float32Array(C.buffer,0,1),s=/^\s*rgba?\s*\(/,i=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function r(E){var y=0,h=0,e=0,t=1;if("#"===E[0])4===E.length?(y=parseInt(E.charAt(1)+E.charAt(1),16),h=parseInt(E.charAt(2)+E.charAt(2),16),e=parseInt(E.charAt(3)+E.charAt(3),16)):(y=parseInt(E.charAt(1)+E.charAt(2),16),h=parseInt(E.charAt(3)+E.charAt(4),16),e=parseInt(E.charAt(5)+E.charAt(6),16));else if(s.test(E)){var l=E.match(i);l&&(y=+l[1],h=+l[2],e=+l[3],l[4]&&(t=+l[4]))}return{r:y,g:h,b:e,a:t}}o.parseColor=r;var n={};for(var a in m.HTML_COLORS)n[a]=p(m.HTML_COLORS[a]),n[m.HTML_COLORS[a]]=n[a];function p(E){if(void 0!==n[E])return n[E];var y=r(E),l=y.a;d[0]=4278190079&((l=255*l|0)<<24|y.b<<16|y.g<<8|y.r);var u=f[0];return n[E]=u,u}function _(E,y){var h=E.height/E.width,e=y.height/y.width;return h<1&&e>1||h>1&&e<1?1:Math.min(Math.max(e,1/e),Math.max(1/h,h))}o.floatArrayColor=function(E){var y=r(E=m.HTML_COLORS[E]||E);return new Float32Array([y.r/255,y.g/255,y.b/255,y.a])},o.floatColor=p,o.getCorrectionRatio=_,o.matrixFromCamera=function(E,y,h,e,t){var l=E.angle,u=E.ratio,g=E.x,R=E.y,F=y.width,A=y.height,P=(0,c.identity)(),M=Math.min(F,A)-2*e,x=_(y,h);return t?((0,c.multiply)(P,(0,c.translate)((0,c.identity)(),g,R)),(0,c.multiply)(P,(0,c.scale)((0,c.identity)(),u)),(0,c.multiply)(P,(0,c.rotate)((0,c.identity)(),l)),(0,c.multiply)(P,(0,c.scale)((0,c.identity)(),F/M/2/x,A/M/2/x))):((0,c.multiply)(P,(0,c.scale)((0,c.identity)(),M/F*2*x,M/A*2*x)),(0,c.multiply)(P,(0,c.rotate)((0,c.identity)(),-l)),(0,c.multiply)(P,(0,c.scale)((0,c.identity)(),1/u)),(0,c.multiply)(P,(0,c.translate)((0,c.identity)(),-g,-R))),P},o.getMatrixImpact=function(E,y,h){var e=(0,c.multiplyVec2)(E,{x:Math.cos(y.angle),y:Math.sin(y.angle)},0),l=e.y;return 1/Math.sqrt(Math.pow(e.x,2)+Math.pow(l,2))/h.width},o.extractPixel=function(E,y,h,e){var t=e||new Uint8Array(4);return E.readPixels(y,h,1,1,E.RGBA,E.UNSIGNED_BYTE,t),t},o.canUse32BitsIndices=function(E){return"undefined"!=typeof WebGL2RenderingContext&&E instanceof WebGL2RenderingContext||!!E.getExtension("OES_element_index_uint")},o.validateGraph=function(E){if(!(0,w.default)(E))throw new Error("Sigma: invalid graph instance.");E.forEachNode(function(y,h){if(!Number.isFinite(h.x)||!Number.isFinite(h.y))throw new Error("Sigma: Coordinates of node ".concat(y," are invalid. A node must have a numeric 'x' and 'y' attribute."))})}},700:(I,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.multiplyVec2=o.multiply=o.translate=o.rotate=o.scale=o.identity=void 0,o.identity=function(){return Float32Array.of(1,0,0,0,1,0,0,0,1)},o.scale=function(b,L,T){return b[0]=L,b[4]="number"==typeof T?T:L,b},o.rotate=function(b,L){var T=Math.sin(L),w=Math.cos(L);return b[0]=w,b[1]=T,b[3]=-T,b[4]=w,b},o.translate=function(b,L,T){return b[6]=L,b[7]=T,b},o.multiply=function(b,L){var T=b[0],w=b[1],c=b[2],m=b[3],v=b[4],C=b[5],d=b[6],f=b[7],s=b[8],i=L[0],r=L[1],n=L[2],a=L[3],p=L[4],_=L[5],E=L[6],y=L[7],h=L[8];return b[0]=i*T+r*m+n*d,b[1]=i*w+r*v+n*f,b[2]=i*c+r*C+n*s,b[3]=a*T+p*m+_*d,b[4]=a*w+p*v+_*f,b[5]=a*c+p*C+_*s,b[6]=E*T+y*m+h*d,b[7]=E*w+y*v+h*f,b[8]=E*c+y*C+h*s,b},o.multiplyVec2=function(b,L,T){void 0===T&&(T=1);var f=L.x,s=L.y;return{x:f*b[0]+s*b[3]+b[6]*T,y:f*b[1]+s*b[4]+b[7]*T}}}},$={};function X(I){var o=$[I];if(void 0!==o)return o.exports;var b=$[I]={exports:{}};return te[I].call(b.exports,b,b.exports,X),b.exports}X.d=(I,o)=>{for(var b in o)X.o(o,b)&&!X.o(I,b)&&Object.defineProperty(I,b,{enumerable:!0,get:o[b]})},X.o=(I,o)=>Object.prototype.hasOwnProperty.call(I,o),X.r=I=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})};var re=X(265);Sigma=re})(),(()=>{var te=[function(I,o,b){"use strict";var d,L=this&&this.__extends||(d=function(f,s){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])})(f,s)},function(f,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function i(){this.constructor=f}d(f,s),f.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}),T=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(o,"__esModule",{value:!0});var w=T(b(1)),c=T(b(2)),m=T(b(13)),v=T(b(11)),C=function(d){function f(){return null!==d&&d.apply(this,arguments)||this}return L(f,d),f.Camera=c.default,f.QuadTree=m.default,f.MouseCaptor=v.default,f.Sigma=w.default,f}(w.default);I.exports=C},function(I,o,b){"use strict";var y,L=this&&this.__extends||(y=function(h,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(t[u]=l[u])})(h,e)},function(h,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=h}y(h,e),h.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),T=this&&this.__assign||function(){return T=Object.assign||function(y){for(var h,e=1,t=arguments.length;e<t;e++)for(var l in h=arguments[e])Object.prototype.hasOwnProperty.call(h,l)&&(y[l]=h[l]);return y},T.apply(this,arguments)},w=this&&this.__values||function(y){var h="function"==typeof Symbol&&Symbol.iterator,e=h&&y[h],t=0;if(e)return e.call(y);if(y&&"number"==typeof y.length)return{next:function(){return y&&t>=y.length&&(y=void 0),{value:y&&y[t++],done:!y}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(o,"__esModule",{value:!0});var m=c(b(2)),v=c(b(11)),C=c(b(13)),d=b(9),f=b(4),s=b(15),i=b(16),r=c(b(36)),n=b(6),a=b(37);function p(y,h,e){if(!e.hasOwnProperty("x")||!e.hasOwnProperty("y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(h,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return e.color||(e.color=y.defaultNodeColor),!e.label&&""!==e.label&&(e.label=null),e.label=null!=e.label?""+e.label:null,e.size||(e.size=2),e.hasOwnProperty("hidden")||(e.hidden=!1),e.hasOwnProperty("highlighted")||(e.highlighted=!1),e.hasOwnProperty("forceLabel")||(e.forceLabel=!1),(!e.type||""===e.type)&&(e.type=y.defaultNodeType),e.zIndex||(e.zIndex=0),e}function _(y,h,e){return e.color||(e.color=y.defaultEdgeColor),e.label||(e.label=""),e.size||(e.size=.5),e.hasOwnProperty("hidden")||(e.hidden=!1),e.hasOwnProperty("forceLabel")||(e.forceLabel=!1),(!e.type||""===e.type)&&(e.type=y.defaultEdgeType),e.zIndex||(e.zIndex=0),e}var E=function(y){function h(e,t,l){void 0===l&&(l={});var u=y.call(this)||this;if(u.elements={},u.canvasContexts={},u.webGLContexts={},u.activeListeners={},u.quadtree=new C.default,u.labelGrid=new s.LabelGrid,u.nodeDataCache={},u.edgeDataCache={},u.nodesWithForcedLabels=[],u.edgesWithForcedLabels=[],u.nodeExtent={x:[0,1],y:[0,1]},u.matrix=(0,n.identity)(),u.invMatrix=(0,n.identity)(),u.correctionRatio=1,u.customBBox=null,u.normalizationFunction=(0,f.createNormalizationFunction)({x:[0,1],y:[0,1]}),u.cameraSizeRatio=1,u.width=0,u.height=0,u.pixelRatio=(0,f.getPixelRatio)(),u.displayedLabels=new Set,u.highlightedNodes=new Set,u.hoveredNode=null,u.hoveredEdge=null,u.renderFrame=null,u.renderHighlightedNodesFrame=null,u.needToProcess=!1,u.needToSoftProcess=!1,u.checkEdgesEventsFrame=null,u.nodePrograms={},u.hoverNodePrograms={},u.edgePrograms={},u.settings=(0,f.assign)({},i.DEFAULT_SETTINGS,l),(0,i.validateSettings)(u.settings),(0,f.validateGraph)(e),!(t instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");for(var g in u.graph=e,u.container=t,u.createWebGLContext("edges",{preserveDrawingBuffer:!0}),u.createCanvasContext("edgeLabels"),u.createWebGLContext("nodes"),u.createCanvasContext("labels"),u.createCanvasContext("hovers"),u.createWebGLContext("hoverNodes"),u.createCanvasContext("mouse"),u.webGLContexts){var R=u.webGLContexts[g];R.blendFunc(R.ONE,R.ONE_MINUS_SRC_ALPHA),R.enable(R.BLEND)}for(var F in u.settings.nodeProgramClasses){var A=u.settings.nodeProgramClasses[F];u.nodePrograms[F]=new A(u.webGLContexts.nodes,u),u.hoverNodePrograms[F]=new A(u.webGLContexts.hoverNodes,u)}for(var F in u.settings.edgeProgramClasses)u.edgePrograms[F]=new(0,u.settings.edgeProgramClasses[F])(u.webGLContexts.edges,u);return u.resize(),u.camera=new m.default,u.bindCameraHandlers(),u.mouseCaptor=new v.default(u.elements.mouse,u),u.touchCaptor=new r.default(u.elements.mouse,u),u.bindEventHandlers(),u.bindGraphHandlers(),u.handleSettingsUpdate(),u.process(),u.render(),u}return L(h,y),h.prototype.createCanvas=function(e){var t=(0,f.createElement)("canvas",{position:"absolute"},{class:"sigma-".concat(e)});return this.elements[e]=t,this.container.appendChild(t),t},h.prototype.createCanvasContext=function(e){var t=this.createCanvas(e);return this.canvasContexts[e]=t.getContext("2d",{preserveDrawingBuffer:!1,antialias:!1}),this},h.prototype.createWebGLContext=function(e,t){var g,l=this.createCanvas(e),u=T({preserveDrawingBuffer:!1,antialias:!1},t||{});return(g=l.getContext("webgl2",u))||(g=l.getContext("webgl",u)),g||(g=l.getContext("experimental-webgl",u)),this.webGLContexts[e]=g,this},h.prototype.bindCameraHandlers=function(){var e=this;return this.activeListeners.camera=function(){e._scheduleRefresh()},this.camera.on("updated",this.activeListeners.camera),this},h.prototype.mouseIsOnNode=function(e,t,l){var u=e.x,g=e.y,R=t.x,F=t.y;return u>R-l&&u<R+l&&g>F-l&&g<F+l&&Math.sqrt(Math.pow(u-R,2)+Math.pow(g-F,2))<l},h.prototype.getQuadNodes=function(e){var t=this.viewportToFramedGraph(e);return this.quadtree.point(t.x,1-t.y)},h.prototype.getNodeAtPosition=function(e){for(var t=e.x,l=e.y,u=this.getQuadNodes(e),g=1/0,R=null,F=0,A=u.length;F<A;F++){var P=u[F],M=this.nodeDataCache[P],x=this.framedGraphToViewport(M),O=this.scaleSize(M.size);if(!M.hidden&&this.mouseIsOnNode(e,x,O)){var S=Math.sqrt(Math.pow(t-x.x,2)+Math.pow(l-x.y,2));S<g&&(g=S,R=P)}}return R},h.prototype.bindEventHandlers=function(){var e=this;this.activeListeners.handleResize=function(){e.needToSoftProcess=!0,e._scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(l){var u={event:l,preventSigmaDefault:function(){l.preventSigmaDefault()}},g=e.getNodeAtPosition(l);if(g&&e.hoveredNode!==g&&!e.nodeDataCache[g].hidden)return e.hoveredNode&&e.emit("leaveNode",T(T({},u),{node:e.hoveredNode})),e.hoveredNode=g,e.emit("enterNode",T(T({},u),{node:g})),void e.scheduleHighlightedNodesRender();if(e.hoveredNode){var R=e.nodeDataCache[e.hoveredNode],F=e.framedGraphToViewport(R),A=e.scaleSize(R.size);if(!e.mouseIsOnNode(l,F,A)){var P=e.hoveredNode;return e.hoveredNode=null,e.emit("leaveNode",T(T({},u),{node:P})),void e.scheduleHighlightedNodesRender()}}!0===e.settings.enableEdgeHoverEvents?e.checkEdgeHoverEvents(u):"debounce"===e.settings.enableEdgeHoverEvents&&(e.checkEdgesEventsFrame||(e.checkEdgesEventsFrame=(0,f.requestFrame)(function(){e.checkEdgeHoverEvents(u),e.checkEdgesEventsFrame=null})))};var t=function(l){return function(u){var g={event:u,preventSigmaDefault:function(){u.preventSigmaDefault()}},F=u.original.isFakeSigmaMouseEvent?e.getNodeAtPosition(u):e.hoveredNode;if(F)return e.emit("".concat(l,"Node"),T(T({},g),{node:F}));if("wheel"===l?e.settings.enableEdgeWheelEvents:e.settings.enableEdgeClickEvents){var A=e.getEdgeAtPoint(u.x,u.y);if(A)return e.emit("".concat(l,"Edge"),T(T({},g),{edge:A}))}return e.emit("".concat(l,"Stage"),g)}};return this.activeListeners.handleClick=t("click"),this.activeListeners.handleRightClick=t("rightClick"),this.activeListeners.handleDoubleClick=t("doubleClick"),this.activeListeners.handleWheel=t("wheel"),this.activeListeners.handleDown=t("down"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this},h.prototype.bindGraphHandlers=function(){var e=this,t=this.graph;return this.activeListeners.graphUpdate=function(){e.needToProcess=!0,e._scheduleRefresh()},this.activeListeners.softGraphUpdate=function(){e.needToSoftProcess=!0,e._scheduleRefresh()},this.activeListeners.dropNodeGraphUpdate=function(l){delete e.nodeDataCache[l.key],e.hoveredNode===l.key&&(e.hoveredNode=null),e.activeListeners.graphUpdate()},this.activeListeners.dropEdgeGraphUpdate=function(l){delete e.edgeDataCache[l.key],e.hoveredEdge===l.key&&(e.hoveredEdge=null),e.activeListeners.graphUpdate()},this.activeListeners.clearEdgesGraphUpdate=function(){e.edgeDataCache={},e.hoveredEdge=null,e.activeListeners.graphUpdate()},this.activeListeners.clearGraphUpdate=function(){e.nodeDataCache={},e.hoveredNode=null,e.activeListeners.clearEdgesGraphUpdate()},t.on("nodeAdded",this.activeListeners.graphUpdate),t.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),t.on("nodeAttributesUpdated",this.activeListeners.softGraphUpdate),t.on("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),t.on("edgeAdded",this.activeListeners.graphUpdate),t.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),t.on("edgeAttributesUpdated",this.activeListeners.softGraphUpdate),t.on("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),t.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),t.on("cleared",this.activeListeners.clearGraphUpdate),this},h.prototype.checkEdgeHoverEvents=function(e){var t=this.hoveredNode?null:this.getEdgeAtPoint(e.event.x,e.event.y);return t!==this.hoveredEdge&&(this.hoveredEdge&&this.emit("leaveEdge",T(T({},e),{edge:this.hoveredEdge})),t&&this.emit("enterEdge",T(T({},e),{edge:t})),this.hoveredEdge=t),this},h.prototype.getEdgeAtPoint=function(e,t){var l,u,g=this,F=this.edgeDataCache,A=this.nodeDataCache;if(!(0,a.isPixelColored)(this.webGLContexts.edges,e*this.pixelRatio,t*this.pixelRatio))return null;var P=this.viewportToGraph({x:e,y:t}),M=P.x,x=P.y,O=0;if(this.graph.someEdge(function(B,W,k,q,H,V){var Y=H.x,Z=H.y,K=V.x,Q=V.y;if(F[B].hidden||A[k].hidden||A[q].hidden)return!1;if(Y!==K||Z!==Q){var ie=Math.sqrt(Math.pow(K-Y,2)+Math.pow(Q-Z,2)),J=g.graphToViewport({x:Y,y:Z}),ne=J.x,oe=J.y,ee=g.graphToViewport({x:K,y:Q}),se=ee.y,he=Math.sqrt(Math.pow(ee.x-ne,2)+Math.pow(se-oe,2));return O=ie/he,!0}}),!O)return null;var S=this.graph.filterEdges(function(B,W,k,q,H,V){return!(F[B].hidden||A[k].hidden||A[q].hidden)&&(!!(0,a.doEdgeCollideWithPoint)(M,x,H.x,H.y,V.x,V.y,F[B].size*O/g.cameraSizeRatio)||void 0)});if(0===S.length)return null;var D=S[S.length-1],U=-1/0;try{for(var N=w(S),z=N.next();!z.done;z=N.next()){var G=z.value,j=this.graph.getEdgeAttribute(G,"zIndex");j>=U&&(D=G,U=j)}}catch(B){l={error:B}}finally{try{z&&!z.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}return D},h.prototype.process=function(e){var t=this;void 0===e&&(e=!1);var l=this.graph,u=this.settings,g=this.getDimensions(),R=[1/0,-1/0],F=[1/0,-1/0];this.quadtree.clear(),this.labelGrid.resizeAndClear(g,u.labelGridCellSize),this.highlightedNodes=new Set,this.nodeExtent=(0,f.graphExtent)(l),this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[];var A=new m.default,P=(0,f.matrixFromCamera)(A.getState(),this.getDimensions(),this.getGraphDimensions(),this.getSetting("stagePadding")||0);this.normalizationFunction=(0,f.createNormalizationFunction)(this.customBBox||this.nodeExtent);for(var M={},x=l.nodes(),O=0,S=x.length;O<S;O++){var D=x[O],U=Object.assign({},l.getNodeAttributes(D));u.nodeReducer&&(U=u.nodeReducer(D,U)),M[(N=p(this.settings,D,U)).type]=(M[N.type]||0)+1,this.nodeDataCache[D]=N,this.normalizationFunction.applyTo(N),N.forceLabel&&this.nodesWithForcedLabels.push(D),this.settings.zIndex&&(N.zIndex<R[0]&&(R[0]=N.zIndex),N.zIndex>R[1]&&(R[1]=N.zIndex))}for(var z in this.nodePrograms){if(!this.nodePrograms.hasOwnProperty(z))throw new Error('Sigma: could not find a suitable program for node type "'.concat(z,'"!'));e||this.nodePrograms[z].allocate(M[z]||0),M[z]=0}for(this.settings.zIndex&&R[0]!==R[1]&&(x=(0,f.zIndexOrdering)(R,function(Y){return t.nodeDataCache[Y].zIndex},x)),O=0,S=x.length;O<S;O++)this.quadtree.add(D=x[O],(N=this.nodeDataCache[D]).x,1-N.y,N.size/this.width),"string"==typeof N.label&&!N.hidden&&this.labelGrid.add(D,N.size,this.framedGraphToViewport(N,{matrix:P})),this.nodePrograms[N.type].process(N,N.hidden,M[N.type]++),N.highlighted&&!N.hidden&&this.highlightedNodes.add(D);this.labelGrid.organize();var G={},j=l.edges();for(O=0,S=j.length;O<S;O++){var B=j[O];U=Object.assign({},l.getEdgeAttributes(B)),u.edgeReducer&&(U=u.edgeReducer(B,U)),G[(N=_(this.settings,0,U)).type]=(G[N.type]||0)+1,this.edgeDataCache[B]=N,N.forceLabel&&!N.hidden&&this.edgesWithForcedLabels.push(B),this.settings.zIndex&&(N.zIndex<F[0]&&(F[0]=N.zIndex),N.zIndex>F[1]&&(F[1]=N.zIndex))}for(var z in this.edgePrograms){if(!this.edgePrograms.hasOwnProperty(z))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(z,'"!'));e||this.edgePrograms[z].allocate(G[z]||0),G[z]=0}for(this.settings.zIndex&&F[0]!==F[1]&&(j=(0,f.zIndexOrdering)(F,function(Y){return t.edgeDataCache[Y].zIndex},j)),O=0,S=j.length;O<S;O++){var N=this.edgeDataCache[B=j[O]],W=l.extremities(B),k=this.nodeDataCache[W[0]],q=this.nodeDataCache[W[1]];this.edgePrograms[N.type].process(k,q,N,N.hidden||k.hidden||q.hidden,G[N.type]++)}for(var z in this.edgePrograms){var V=this.edgePrograms[z];!e&&"function"==typeof V.computeIndices&&V.computeIndices()}return this},h.prototype.handleSettingsUpdate=function(){return this.camera.minRatio=this.settings.minCameraRatio,this.camera.maxRatio=this.settings.maxCameraRatio,this.camera.setState(this.camera.validateState(this.camera.getState())),this},h.prototype._refresh=function(){return this.needToProcess?this.process():this.needToSoftProcess&&this.process(!0),this.needToProcess=!1,this.needToSoftProcess=!1,this.render(),this},h.prototype._scheduleRefresh=function(){var e=this;return this.renderFrame||(this.renderFrame=(0,f.requestFrame)(function(){e._refresh(),e.renderFrame=null})),this},h.prototype.renderLabels=function(){if(!this.settings.renderLabels)return this;var t,e=this.camera.getState();if(e.ratio>=1)t=new Set(this.graph.nodes());else{var l=this.viewRectangle();t=new Set(this.quadtree.rectangle(l.x1,1-l.y1,l.x2,1-l.y2,l.height))}var u=this.labelGrid.getLabelsToDisplay(e.ratio,this.settings.labelDensity).concat(this.nodesWithForcedLabels);this.displayedLabels=new Set;for(var g=this.canvasContexts.labels,R=0,F=u.length;R<F;R++){var A=u[R],P=this.nodeDataCache[A];if(!this.displayedLabels.has(A)&&!P.hidden){var M=this.framedGraphToViewport(P),x=M.x,O=M.y,S=this.scaleSize(P.size);!P.forceLabel&&S<this.settings.labelRenderedSizeThreshold||!t.has(A)||(this.displayedLabels.add(A),this.settings.labelRenderer(g,T(T({key:A},P),{size:S,x,y:O}),this.settings))}}return this},h.prototype.renderEdgeLabels=function(){if(!this.settings.renderEdgeLabels)return this;var e=this.canvasContexts.edgeLabels;e.clearRect(0,0,this.width,this.height);for(var t=(0,s.edgeLabelsToDisplayFromNodes)({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedLabels,highlightedNodes:this.highlightedNodes}).concat(this.edgesWithForcedLabels),l=new Set,u=0,g=t.length;u<g;u++){var R=t[u],F=this.graph.extremities(R),A=this.nodeDataCache[F[0]],P=this.nodeDataCache[F[1]],M=this.edgeDataCache[R];l.has(R)||M.hidden||A.hidden||P.hidden||(this.settings.edgeLabelRenderer(e,T(T({key:R},M),{size:this.scaleSize(M.size)}),T(T(T({key:F[0]},A),this.framedGraphToViewport(A)),{size:this.scaleSize(A.size)}),T(T(T({key:F[1]},P),this.framedGraphToViewport(P)),{size:this.scaleSize(P.size)}),this.settings),l.add(R))}return this},h.prototype.renderHighlightedNodes=function(){var e=this,t=this.canvasContexts.hovers;t.clearRect(0,0,this.width,this.height);var u=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&u.push(this.hoveredNode),this.highlightedNodes.forEach(function(A){A!==e.hoveredNode&&u.push(A)}),u.forEach(function(A){return function(A){var P=e.nodeDataCache[A],M=e.framedGraphToViewport(P),x=M.x,O=M.y,S=e.scaleSize(P.size);e.settings.hoverRenderer(t,T(T({key:A},P),{size:S,x,y:O}),e.settings)}(A)});var g={};for(var R in u.forEach(function(A){var P=e.nodeDataCache[A].type;g[P]=(g[P]||0)+1}),this.hoverNodePrograms)this.hoverNodePrograms[R].allocate(g[R]||0),g[R]=0;for(var R in u.forEach(function(A){var P=e.nodeDataCache[A];e.hoverNodePrograms[P.type].process(P,P.hidden,g[P.type]++)}),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.hoverNodePrograms){var F=this.hoverNodePrograms[R];F.bind(),F.bufferData(),F.render({matrix:this.matrix,width:this.width,height:this.height,ratio:this.camera.ratio,correctionRatio:this.correctionRatio/this.camera.ratio,scalingRatio:this.pixelRatio})}},h.prototype.scheduleHighlightedNodesRender=function(){var e=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=(0,f.requestFrame)(function(){e.renderHighlightedNodesFrame=null,e.renderHighlightedNodes(),e.renderEdgeLabels()}))},h.prototype.render=function(){var e=this;this.emit("beforeRender");var t=function(){return e.emit("afterRender"),e};if(this.renderFrame&&((0,f.cancelFrame)(this.renderFrame),this.renderFrame=null,this.needToProcess=!1,this.needToSoftProcess=!1),this.resize(),this.clear(),this.updateCachedValues(),!this.graph.order)return t();var l=this.mouseCaptor,u=this.camera.isAnimated()||l.isMoving||l.draggedEvents||l.currentWheelDirection,g=this.camera.getState(),R=this.getDimensions(),F=this.getGraphDimensions(),A=this.getSetting("stagePadding")||0;for(var P in this.matrix=(0,f.matrixFromCamera)(g,R,F,A),this.invMatrix=(0,f.matrixFromCamera)(g,R,F,A,!0),this.correctionRatio=(0,f.getMatrixImpact)(this.matrix,g,R),this.nodePrograms)(M=this.nodePrograms[P]).bind(),M.bufferData(),M.render({matrix:this.matrix,width:this.width,height:this.height,ratio:g.ratio,correctionRatio:this.correctionRatio/g.ratio,scalingRatio:this.pixelRatio});if(!this.settings.hideEdgesOnMove||!u)for(var P in this.edgePrograms){var M;(M=this.edgePrograms[P]).bind(),M.bufferData(),M.render({matrix:this.matrix,width:this.width,height:this.height,ratio:g.ratio,correctionRatio:this.correctionRatio/g.ratio,scalingRatio:this.pixelRatio})}return this.settings.hideLabelsOnMove&&u||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),t()},h.prototype.updateCachedValues=function(){var e=this.camera.getState().ratio;this.cameraSizeRatio=Math.sqrt(e)},h.prototype.getCamera=function(){return this.camera},h.prototype.getContainer=function(){return this.container},h.prototype.getGraph=function(){return this.graph},h.prototype.getMouseCaptor=function(){return this.mouseCaptor},h.prototype.getTouchCaptor=function(){return this.touchCaptor},h.prototype.getDimensions=function(){return{width:this.width,height:this.height}},h.prototype.getGraphDimensions=function(){var e=this.customBBox||this.nodeExtent;return{width:e.x[1]-e.x[0]||1,height:e.y[1]-e.y[0]||1}},h.prototype.getNodeDisplayData=function(e){var t=this.nodeDataCache[e];return t?Object.assign({},t):void 0},h.prototype.getEdgeDisplayData=function(e){var t=this.edgeDataCache[e];return t?Object.assign({},t):void 0},h.prototype.getSettings=function(){return T({},this.settings)},h.prototype.getSetting=function(e){return this.settings[e]},h.prototype.setSetting=function(e,t){return this.settings[e]=t,(0,i.validateSettings)(this.settings),this.handleSettingsUpdate(),this.needToProcess=!0,this._scheduleRefresh(),this},h.prototype.updateSetting=function(e,t){return this.settings[e]=t(this.settings[e]),(0,i.validateSettings)(this.settings),this.handleSettingsUpdate(),this.needToProcess=!0,this._scheduleRefresh(),this},h.prototype.resize=function(){var e=this.width,t=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=(0,f.getPixelRatio)(),0===this.width){if(!this.settings.allowInvalidContainer)throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seing this error.");this.width=1}if(0===this.height){if(!this.settings.allowInvalidContainer)throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seing this error.");this.height=1}if(e===this.width&&t===this.height)return this;for(var l in this.emit("resize"),this.elements){var u=this.elements[l];u.style.width=this.width+"px",u.style.height=this.height+"px"}for(var l in this.canvasContexts)this.elements[l].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[l].setAttribute("height",this.height*this.pixelRatio+"px"),1!==this.pixelRatio&&this.canvasContexts[l].scale(this.pixelRatio,this.pixelRatio);for(var l in this.webGLContexts)this.elements[l].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[l].setAttribute("height",this.height*this.pixelRatio+"px"),this.webGLContexts[l].viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio);return this},h.prototype.clear=function(){return this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT),this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this},h.prototype.refresh=function(){return this.needToProcess=!0,this._refresh(),this},h.prototype.scheduleRefresh=function(){return this.needToProcess=!0,this._scheduleRefresh(),this},h.prototype.getViewportZoomedState=function(e,t){var l=this.camera.getState(),g=l.angle,R=l.x,F=l.y,A=t/l.ratio,P={x:this.width/2,y:this.height/2},M=this.viewportToFramedGraph(e),x=this.viewportToFramedGraph(P);return{angle:g,x:(M.x-x.x)*(1-A)+R,y:(M.y-x.y)*(1-A)+F,ratio:t}},h.prototype.viewRectangle=function(){var e=0*this.width/8,t=0*this.height/8,l=this.viewportToFramedGraph({x:0-e,y:0-t}),u=this.viewportToFramedGraph({x:this.width+e,y:0-t}),g=this.viewportToFramedGraph({x:0,y:this.height+t});return{x1:l.x,y1:l.y,x2:u.x,y2:u.y,height:u.y-g.y}},h.prototype.framedGraphToViewport=function(e,t){void 0===t&&(t={});var u=t.matrix?t.matrix:t.cameraState||t.viewportDimensions||t.graphDimensions?(0,f.matrixFromCamera)(t.cameraState||this.camera.getState(),t.viewportDimensions||this.getDimensions(),t.graphDimensions||this.getGraphDimensions(),t.padding||this.getSetting("stagePadding")||0):this.matrix,g=(0,n.multiplyVec2)(u,e);return{x:(1+g.x)*this.width/2,y:(1-g.y)*this.height/2}},h.prototype.viewportToFramedGraph=function(e,t){void 0===t&&(t={});var u=t.matrix?t.matrix:t.cameraState||t.viewportDimensions||!t.graphDimensions?(0,f.matrixFromCamera)(t.cameraState||this.camera.getState(),t.viewportDimensions||this.getDimensions(),t.graphDimensions||this.getGraphDimensions(),t.padding||this.getSetting("stagePadding")||0,!0):this.invMatrix,g=(0,n.multiplyVec2)(u,{x:e.x/this.width*2-1,y:1-e.y/this.height*2});return isNaN(g.x)&&(g.x=0),isNaN(g.y)&&(g.y=0),g},h.prototype.viewportToGraph=function(e,t){return void 0===t&&(t={}),this.normalizationFunction.inverse(this.viewportToFramedGraph(e,t))},h.prototype.graphToViewport=function(e,t){return void 0===t&&(t={}),this.framedGraphToViewport(this.normalizationFunction(e),t)},h.prototype.getBBox=function(){return(0,f.graphExtent)(this.graph)},h.prototype.getCustomBBox=function(){return this.customBBox},h.prototype.setCustomBBox=function(e){return this.customBBox=e,this._scheduleRefresh(),this},h.prototype.kill=function(){var e=this.graph;this.emit("kill"),this.removeAllListeners(),this.camera.removeListener("updated",this.activeListeners.camera),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),e.removeListener("nodeAdded",this.activeListeners.dropNodeGraphUpdate),e.removeListener("nodeDropped",this.activeListeners.graphUpdate),e.removeListener("nodeAttributesUpdated",this.activeListeners.softGraphUpdate),e.removeListener("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),e.removeListener("edgeAdded",this.activeListeners.graphUpdate),e.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),e.removeListener("edgeAttributesUpdated",this.activeListeners.softGraphUpdate),e.removeListener("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),e.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),e.removeListener("cleared",this.activeListeners.clearGraphUpdate),this.quadtree=new C.default,this.nodeDataCache={},this.edgeDataCache={},this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[],this.highlightedNodes.clear(),this.renderFrame&&((0,f.cancelFrame)(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&((0,f.cancelFrame)(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var t=this.container;t.firstChild;)t.removeChild(t.firstChild)},h.prototype.scaleSize=function(e){return e/this.cameraSizeRatio},h.prototype.getCanvases=function(){return T({},this.elements)},h}(d.TypedEventEmitter);o.default=E},function(I,o,b){"use strict";var f,L=this&&this.__extends||(f=function(s,i){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])})(s,i)},function(s,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=s}f(s,i),s.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}),T=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(o,"__esModule",{value:!0});var w=b(3),c=T(b(8)),m=b(4),v=b(9),C=1.5,d=function(f){function s(){var i=f.call(this)||this;return i.x=.5,i.y=.5,i.angle=0,i.ratio=1,i.minRatio=null,i.maxRatio=null,i.nextFrame=null,i.previousState=null,i.enabled=!0,i.previousState=i.getState(),i}return L(s,f),s.from=function(i){return(new s).setState(i)},s.prototype.enable=function(){return this.enabled=!0,this},s.prototype.disable=function(){return this.enabled=!1,this},s.prototype.getState=function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}},s.prototype.hasState=function(i){return this.x===i.x&&this.y===i.y&&this.ratio===i.ratio&&this.angle===i.angle},s.prototype.getPreviousState=function(){var i=this.previousState;return i?{x:i.x,y:i.y,angle:i.angle,ratio:i.ratio}:null},s.prototype.getBoundedRatio=function(i){var r=i;return"number"==typeof this.minRatio&&(r=Math.max(r,this.minRatio)),"number"==typeof this.maxRatio&&(r=Math.min(r,this.maxRatio)),r},s.prototype.validateState=function(i){var r={};return"number"==typeof i.x&&(r.x=i.x),"number"==typeof i.y&&(r.y=i.y),"number"==typeof i.angle&&(r.angle=i.angle),"number"==typeof i.ratio&&(r.ratio=this.getBoundedRatio(i.ratio)),r},s.prototype.isAnimated=function(){return!!this.nextFrame},s.prototype.setState=function(i){if(!this.enabled)return this;this.previousState=this.getState();var r=this.validateState(i);return"number"==typeof r.x&&(this.x=r.x),"number"==typeof r.y&&(this.y=r.y),"number"==typeof r.angle&&(this.angle=r.angle),"number"==typeof r.ratio&&(this.ratio=r.ratio),this.hasState(this.previousState)||this.emit("updated",this.getState()),this},s.prototype.animate=function(i,r,n){var a=this;if(this.enabled){var p=Object.assign({},w.ANIMATE_DEFAULTS,r),_=this.validateState(i),E="function"==typeof p.easing?p.easing:c.default[p.easing],y=Date.now(),h=this.getState(),e=function(){var t=(Date.now()-y)/p.duration;if(t>=1)return a.nextFrame=null,a.setState(_),void(a.animationCallback&&(a.animationCallback.call(null),a.animationCallback=void 0));var l=E(t),u={};"number"==typeof _.x&&(u.x=h.x+(_.x-h.x)*l),"number"==typeof _.y&&(u.y=h.y+(_.y-h.y)*l),"number"==typeof _.angle&&(u.angle=h.angle+(_.angle-h.angle)*l),"number"==typeof _.ratio&&(u.ratio=h.ratio+(_.ratio-h.ratio)*l),a.setState(u),a.nextFrame=(0,m.requestFrame)(e)};this.nextFrame?((0,m.cancelFrame)(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=(0,m.requestFrame)(e)):e(),this.animationCallback=n}},s.prototype.animatedZoom=function(i){if(i){if("number"==typeof i)return this.animate({ratio:this.ratio/i});this.animate({ratio:this.ratio/(i.factor||C)},i)}else this.animate({ratio:this.ratio/C})},s.prototype.animatedUnzoom=function(i){if(i){if("number"==typeof i)return this.animate({ratio:this.ratio*i});this.animate({ratio:this.ratio*(i.factor||C)},i)}else this.animate({ratio:this.ratio*C})},s.prototype.animatedReset=function(i){this.animate({x:.5,y:.5,ratio:1,angle:0},i)},s.prototype.copy=function(){return s.from(this.getState())},s}(v.TypedEventEmitter);o.default=d},function(I,o,b){"use strict";var L=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(o,"__esModule",{value:!0}),o.animateNodes=o.ANIMATE_DEFAULTS=void 0;var T=b(4),w=L(b(8));o.ANIMATE_DEFAULTS={easing:"quadraticInOut",duration:150},o.animateNodes=function c(m,v,C,d){var f=Object.assign({},o.ANIMATE_DEFAULTS,C),s="function"==typeof f.easing?f.easing:w.default[f.easing],i=Date.now(),r={};for(var n in v){var a=v[n];for(var p in r[n]={},a)r[n][p]=m.getNodeAttribute(n,p)}var _=null,E=function(){_=null;var y=(Date.now()-i)/f.duration;if(y>=1){for(var h in v){var e=v[h];for(var t in e)m.setNodeAttribute(h,t,e[t])}"function"==typeof d&&d()}else{for(var h in y=s(y),v){e=v[h];var l=r[h];for(var t in e)m.setNodeAttribute(h,t,e[t]*y+l[t]*(1-y))}_=(0,T.requestFrame)(E)}};return E(),function(){_&&(0,T.cancelFrame)(_)}}},function(I,o,b){"use strict";var L=this&&this.__read||function(x,O){var S="function"==typeof Symbol&&x[Symbol.iterator];if(!S)return x;var U,z,D=S.call(x),N=[];try{for(;(void 0===O||O-- >0)&&!(U=D.next()).done;)N.push(U.value)}catch(G){z={error:G}}finally{try{U&&!U.done&&(S=D.return)&&S.call(D)}finally{if(z)throw z.error}}return N},T=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(o,"__esModule",{value:!0}),o.validateGraph=o.canUse32BitsIndices=o.extractPixel=o.getMatrixImpact=o.matrixFromCamera=o.getCorrectionRatio=o.floatColor=o.floatArrayColor=o.parseColor=o.zIndexOrdering=o.createNormalizationFunction=o.graphExtent=o.getPixelRatio=o.createElement=o.cancelFrame=o.requestFrame=o.assignDeep=o.assign=o.isPlainObject=void 0;var w=T(b(5)),c=b(6),m=b(7);function v(x){return"object"==typeof x&&null!==x&&x.constructor===Object}o.isPlainObject=v,o.assign=function C(x){for(var O=[],S=1;S<arguments.length;S++)O[S-1]=arguments[S];x=x||{};for(var D=0,U=O.length;D<U;D++){var N=O[D];!N||Object.assign(x,N)}return x},o.assignDeep=function d(x){for(var O=[],S=1;S<arguments.length;S++)O[S-1]=arguments[S];x=x||{};for(var D=0,U=O.length;D<U;D++){var N=O[D];if(N)for(var z in N)x[z]=v(N[z])?d(x[z],N[z]):N[z]}return x},o.requestFrame="undefined"!=typeof requestAnimationFrame?function(x){return requestAnimationFrame(x)}:function(x){return setTimeout(x,0)},o.cancelFrame="undefined"!=typeof cancelAnimationFrame?function(x){return cancelAnimationFrame(x)}:function(x){return clearTimeout(x)},o.createElement=function f(x,O,S){var D=document.createElement(x);if(O)for(var U in O)D.style[U]=O[U];if(S)for(var U in S)D.setAttribute(U,S[U]);return D},o.getPixelRatio=function s(){return void 0!==window.devicePixelRatio?window.devicePixelRatio:1},o.graphExtent=function i(x){if(!x.order)return{x:[0,1],y:[0,1]};var O=1/0,S=-1/0,D=1/0,U=-1/0;return x.forEachNode(function(N,z){var G=z.x,j=z.y;G<O&&(O=G),G>S&&(S=G),j<D&&(D=j),j>U&&(U=j)}),{x:[O,S],y:[D,U]}},o.createNormalizationFunction=function r(x){var O=L(x.x,2),S=O[0],D=O[1],U=L(x.y,2),N=U[0],z=U[1],G=Math.max(D-S,z-N),j=(D+S)/2,B=(z+N)/2;(0===G||Math.abs(G)===1/0||isNaN(G))&&(G=1),isNaN(j)&&(j=0),isNaN(B)&&(B=0);var W=function(k){return{x:.5+(k.x-j)/G,y:.5+(k.y-B)/G}};return W.applyTo=function(k){k.x=.5+(k.x-j)/G,k.y=.5+(k.y-B)/G},W.inverse=function(k){return{x:j+G*(k.x-.5),y:B+G*(k.y-.5)}},W.ratio=G,W},o.zIndexOrdering=function n(x,O,S){return S.sort(function(D,U){var N=O(D)||0,z=O(U)||0;return N<z?-1:N>z?1:0})};var a=new Int8Array(4),p=new Int32Array(a.buffer,0,1),_=new Float32Array(a.buffer,0,1),E=/^\s*rgba?\s*\(/,y=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function h(x){var O=0,S=0,D=0,U=1;if("#"===x[0])4===x.length?(O=parseInt(x.charAt(1)+x.charAt(1),16),S=parseInt(x.charAt(2)+x.charAt(2),16),D=parseInt(x.charAt(3)+x.charAt(3),16)):(O=parseInt(x.charAt(1)+x.charAt(2),16),S=parseInt(x.charAt(3)+x.charAt(4),16),D=parseInt(x.charAt(5)+x.charAt(6),16));else if(E.test(x)){var N=x.match(y);N&&(O=+N[1],S=+N[2],D=+N[3],N[4]&&(U=+N[4]))}return{r:O,g:S,b:D,a:U}}o.parseColor=h;var e={};for(var t in m.HTML_COLORS)e[t]=u(m.HTML_COLORS[t]),e[m.HTML_COLORS[t]]=e[t];function u(x){if(void 0!==e[x])return e[x];var O=h(x),N=O.a;p[0]=4278190079&((N=255*N|0)<<24|O.b<<16|O.g<<8|O.r);var z=_[0];return e[x]=z,z}function g(x,O){var S=x.height/x.width,D=O.height/O.width;return S<1&&D>1||S>1&&D<1?1:Math.min(Math.max(D,1/D),Math.max(1/S,S))}o.floatArrayColor=function l(x){var O=h(x=m.HTML_COLORS[x]||x);return new Float32Array([O.r/255,O.g/255,O.b/255,O.a])},o.floatColor=u,o.getCorrectionRatio=g,o.matrixFromCamera=function R(x,O,S,D,U){var N=x.angle,z=x.ratio,G=x.x,j=x.y,B=O.width,W=O.height,k=(0,c.identity)(),q=Math.min(B,W)-2*D,H=g(O,S);return U?((0,c.multiply)(k,(0,c.translate)((0,c.identity)(),G,j)),(0,c.multiply)(k,(0,c.scale)((0,c.identity)(),z)),(0,c.multiply)(k,(0,c.rotate)((0,c.identity)(),N)),(0,c.multiply)(k,(0,c.scale)((0,c.identity)(),B/q/2/H,W/q/2/H))):((0,c.multiply)(k,(0,c.scale)((0,c.identity)(),q/B*2*H,q/W*2*H)),(0,c.multiply)(k,(0,c.rotate)((0,c.identity)(),-N)),(0,c.multiply)(k,(0,c.scale)((0,c.identity)(),1/z)),(0,c.multiply)(k,(0,c.translate)((0,c.identity)(),-G,-j))),k},o.getMatrixImpact=function F(x,O,S){var D=(0,c.multiplyVec2)(x,{x:Math.cos(O.angle),y:Math.sin(O.angle)},0),N=D.y;return 1/Math.sqrt(Math.pow(D.x,2)+Math.pow(N,2))/S.width},o.extractPixel=function A(x,O,S,D){var U=D||new Uint8Array(4);return x.readPixels(O,S,1,1,x.RGBA,x.UNSIGNED_BYTE,U),U},o.canUse32BitsIndices=function P(x){return"undefined"!=typeof WebGL2RenderingContext&&x instanceof WebGL2RenderingContext||!!x.getExtension("OES_element_index_uint")},o.validateGraph=function M(x){if(!(0,w.default)(x))throw new Error("Sigma: invalid graph instance.");x.forEachNode(function(O,S){if(!Number.isFinite(S.x)||!Number.isFinite(S.y))throw new Error("Sigma: Coordinates of node ".concat(O," are invalid. A node must have a numeric 'x' and 'y' attribute."))})}},I=>{I.exports=function(b){return null!==b&&"object"==typeof b&&"function"==typeof b.addUndirectedEdgeWithKey&&"function"==typeof b.dropNode&&"boolean"==typeof b.multi}},(I,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.multiplyVec2=o.multiply=o.translate=o.rotate=o.scale=o.identity=void 0,o.identity=function b(){return Float32Array.of(1,0,0,0,1,0,0,0,1)},o.scale=function L(v,C,d){return v[0]=C,v[4]="number"==typeof d?d:C,v},o.rotate=function T(v,C){var d=Math.sin(C),f=Math.cos(C);return v[0]=f,v[1]=d,v[3]=-d,v[4]=f,v},o.translate=function w(v,C,d){return v[6]=C,v[7]=d,v},o.multiply=function c(v,C){var d=v[0],f=v[1],s=v[2],i=v[3],r=v[4],n=v[5],a=v[6],p=v[7],_=v[8],E=C[0],y=C[1],h=C[2],e=C[3],t=C[4],l=C[5],u=C[6],g=C[7],R=C[8];return v[0]=E*d+y*i+h*a,v[1]=E*f+y*r+h*p,v[2]=E*s+y*n+h*_,v[3]=e*d+t*i+l*a,v[4]=e*f+t*r+l*p,v[5]=e*s+t*n+l*_,v[6]=u*d+g*i+R*a,v[7]=u*f+g*r+R*p,v[8]=u*s+g*n+R*_,v},o.multiplyVec2=function m(v,C,d){void 0===d&&(d=1);var p=C.x,_=C.y;return{x:p*v[0]+_*v[3]+v[6]*d,y:p*v[1]+_*v[4]+v[7]*d}}},(I,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.HTML_COLORS=void 0,o.HTML_COLORS={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"}},(I,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.cubicInOut=o.cubicOut=o.cubicIn=o.quadraticInOut=o.quadraticOut=o.quadraticIn=o.linear=void 0,o.linear=function(d){return d},o.quadraticIn=function(d){return d*d},o.quadraticOut=function(d){return d*(2-d)},o.quadraticInOut=function(d){return(d*=2)<1?.5*d*d:-.5*(--d*(d-2)-1)},o.cubicIn=function(d){return d*d*d},o.cubicOut=function(d){return--d*d*d+1},o.cubicInOut=function(d){return(d*=2)<1?.5*d*d*d:.5*((d-=2)*d*d+2)},o.default={linear:o.linear,quadraticIn:o.quadraticIn,quadraticOut:o.quadraticOut,quadraticInOut:o.quadraticInOut,cubicIn:o.cubicIn,cubicOut:o.cubicOut,cubicInOut:o.cubicInOut}},function(I,o,b){"use strict";var c,L=this&&this.__extends||(c=function(m,v){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,d){C.__proto__=d}||function(C,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(C[f]=d[f])})(m,v)},function(m,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function C(){this.constructor=m}c(m,v),m.prototype=null===v?Object.create(v):(C.prototype=v.prototype,new C)});Object.defineProperty(o,"__esModule",{value:!0}),o.TypedEventEmitter=void 0;var w=function(c){function m(){var v=c.call(this)||this;return v.rawEmitter=v,v}return L(m,c),m}(b(10).EventEmitter);o.TypedEventEmitter=w},I=>{"use strict";var L,o="object"==typeof Reflect?Reflect:null,b=o&&"function"==typeof o.apply?o.apply:function(e,t,l){return Function.prototype.apply.call(e,t,l)};L=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var w=Number.isNaN||function(e){return e!=e};function c(){c.init.call(this)}I.exports=c,I.exports.once=function _(h,e){return new Promise(function(t,l){function u(R){h.removeListener(e,g),l(R)}function g(){"function"==typeof h.removeListener&&h.removeListener("error",u),t([].slice.call(arguments))}y(h,e,g,{once:!0}),"error"!==e&&function E(h,e,t){"function"==typeof h.on&&y(h,"error",e,t)}(h,u,{once:!0})})},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var m=10;function v(h){if("function"!=typeof h)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof h)}function C(h){return void 0===h._maxListeners?c.defaultMaxListeners:h._maxListeners}function d(h,e,t,l){var u,g,R;if(v(t),void 0===(g=h._events)?(g=h._events=Object.create(null),h._eventsCount=0):(void 0!==g.newListener&&(h.emit("newListener",e,t.listener?t.listener:t),g=h._events),R=g[e]),void 0===R)R=g[e]=t,++h._eventsCount;else if("function"==typeof R?R=g[e]=l?[t,R]:[R,t]:l?R.unshift(t):R.push(t),(u=C(h))>0&&R.length>u&&!R.warned){R.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=h,F.type=e,F.count=R.length,function T(h){console&&console.warn&&console.warn(h)}(F)}return h}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(h,e,t){var l={fired:!1,wrapFn:void 0,target:h,type:e,listener:t},u=f.bind(l);return u.listener=t,l.wrapFn=u,u}function i(h,e,t){var l=h._events;if(void 0===l)return[];var u=l[e];return void 0===u?[]:"function"==typeof u?t?[u.listener||u]:[u]:t?function p(h){for(var e=new Array(h.length),t=0;t<e.length;++t)e[t]=h[t].listener||h[t];return e}(u):n(u,u.length)}function r(h){var e=this._events;if(void 0!==e){var t=e[h];if("function"==typeof t)return 1;if(void 0!==t)return t.length}return 0}function n(h,e){for(var t=new Array(e),l=0;l<e;++l)t[l]=h[l];return t}function y(h,e,t,l){if("function"==typeof h.on)l.once?h.once(e,t):h.on(e,t);else{if("function"!=typeof h.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof h);h.addEventListener(e,function u(g){l.once&&h.removeEventListener(e,u),t(g)})}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(h){if("number"!=typeof h||h<0||w(h))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+h+".");m=h}}),c.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||w(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return C(this)},c.prototype.emit=function(e){for(var t=[],l=1;l<arguments.length;l++)t.push(arguments[l]);var u="error"===e,g=this._events;if(void 0!==g)u=u&&void 0===g.error;else if(!u)return!1;if(u){var R;if(t.length>0&&(R=t[0]),R instanceof Error)throw R;var F=new Error("Unhandled error."+(R?" ("+R.message+")":""));throw F.context=R,F}var A=g[e];if(void 0===A)return!1;if("function"==typeof A)b(A,this,t);else{var P=A.length,M=n(A,P);for(l=0;l<P;++l)b(M[l],this,t)}return!0},c.prototype.on=c.prototype.addListener=function(e,t){return d(this,e,t,!1)},c.prototype.prependListener=function(e,t){return d(this,e,t,!0)},c.prototype.once=function(e,t){return v(t),this.on(e,s(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return v(t),this.prependListener(e,s(this,e,t)),this},c.prototype.off=c.prototype.removeListener=function(e,t){var l,u,g,R,F;if(v(t),void 0===(u=this._events))return this;if(void 0===(l=u[e]))return this;if(l===t||l.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete u[e],u.removeListener&&this.emit("removeListener",e,l.listener||t));else if("function"!=typeof l){for(g=-1,R=l.length-1;R>=0;R--)if(l[R]===t||l[R].listener===t){F=l[R].listener,g=R;break}if(g<0)return this;0===g?l.shift():function a(h,e){for(;e+1<h.length;e++)h[e]=h[e+1];h.pop()}(l,g),1===l.length&&(u[e]=l[0]),void 0!==u.removeListener&&this.emit("removeListener",e,F||t)}return this},c.prototype.removeAllListeners=function(e){var t,l,u;if(void 0===(l=this._events))return this;if(void 0===l.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==l[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete l[e]),this;if(0===arguments.length){var R,g=Object.keys(l);for(u=0;u<g.length;++u)"removeListener"!==(R=g[u])&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=l[e]))this.removeListener(e,t);else if(void 0!==t)for(u=t.length-1;u>=0;u--)this.removeListener(e,t[u]);return this},c.prototype.listeners=function(e){return i(this,e,!0)},c.prototype.rawListeners=function(e){return i(this,e,!1)},c.listenerCount=function(h,e){return"function"==typeof h.listenerCount?h.listenerCount(e):r.call(h,e)},c.prototype.listenerCount=r,c.prototype.eventNames=function(){return this._eventsCount>0?L(this._events):[]}},function(I,o,b){"use strict";var _,L=this&&this.__extends||(_=function(E,y){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,e){h.__proto__=e}||function(h,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(h[t]=e[t])})(E,y)},function(E,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function h(){this.constructor=E}_(E,y),E.prototype=null===y?Object.create(y):(h.prototype=y.prototype,new h)}),T=this&&this.__createBinding||(Object.create?function(_,E,y,h){void 0===h&&(h=y),Object.defineProperty(_,h,{enumerable:!0,get:function(){return E[y]}})}:function(_,E,y,h){void 0===h&&(h=y),_[h]=E[y]}),w=this&&this.__setModuleDefault||(Object.create?function(_,E){Object.defineProperty(_,"default",{enumerable:!0,value:E})}:function(_,E){_.default=E}),c=this&&this.__importStar||function(_){if(_&&_.__esModule)return _;var E={};if(null!=_)for(var y in _)"default"!==y&&Object.prototype.hasOwnProperty.call(_,y)&&T(E,_,y);return w(E,_),E};Object.defineProperty(o,"__esModule",{value:!0});var m=c(b(12)),p=function(_){function E(y,h){var e=_.call(this,y,h)||this;return e.enabled=!0,e.draggedEvents=0,e.downStartTime=null,e.lastMouseX=null,e.lastMouseY=null,e.isMouseDown=!1,e.isMoving=!1,e.movingTimeout=null,e.startCameraState=null,e.clicks=0,e.doubleClickTimeout=null,e.currentWheelDirection=0,e.handleClick=e.handleClick.bind(e),e.handleRightClick=e.handleRightClick.bind(e),e.handleDown=e.handleDown.bind(e),e.handleUp=e.handleUp.bind(e),e.handleMove=e.handleMove.bind(e),e.handleWheel=e.handleWheel.bind(e),e.handleOut=e.handleOut.bind(e),y.addEventListener("click",e.handleClick,!1),y.addEventListener("contextmenu",e.handleRightClick,!1),y.addEventListener("mousedown",e.handleDown,!1),y.addEventListener("wheel",e.handleWheel,!1),y.addEventListener("mouseout",e.handleOut,!1),document.addEventListener("mousemove",e.handleMove,!1),document.addEventListener("mouseup",e.handleUp,!1),e}return L(E,_),E.prototype.kill=function(){var y=this.container;y.removeEventListener("click",this.handleClick),y.removeEventListener("contextmenu",this.handleRightClick),y.removeEventListener("mousedown",this.handleDown),y.removeEventListener("wheel",this.handleWheel),y.removeEventListener("mouseout",this.handleOut),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)},E.prototype.handleClick=function(y){var h=this;if(this.enabled){if(this.clicks++,2===this.clicks)return this.clicks=0,"number"==typeof this.doubleClickTimeout&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(y);setTimeout(function(){h.clicks=0,h.doubleClickTimeout=null},300),this.draggedEvents<3&&this.emit("click",(0,m.getMouseCoords)(y,this.container))}},E.prototype.handleRightClick=function(y){!this.enabled||this.emit("rightClick",(0,m.getMouseCoords)(y,this.container))},E.prototype.handleDoubleClick=function(y){if(this.enabled){y.preventDefault(),y.stopPropagation();var h=(0,m.getMouseCoords)(y,this.container);if(this.emit("doubleClick",h),!h.sigmaDefaultPrevented){var e=this.renderer.getCamera(),t=e.getBoundedRatio(e.getState().ratio/2.2);e.animate(this.renderer.getViewportZoomedState((0,m.getPosition)(y,this.container),t),{easing:"quadraticInOut",duration:200})}}},E.prototype.handleDown=function(y){if(this.enabled){this.startCameraState=this.renderer.getCamera().getState();var h=(0,m.getPosition)(y,this.container),t=h.y;this.lastMouseX=h.x,this.lastMouseY=t,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0,this.emit("mousedown",(0,m.getMouseCoords)(y,this.container))}},E.prototype.handleUp=function(y){var h=this;if(this.enabled&&this.isMouseDown){var e=this.renderer.getCamera();this.isMouseDown=!1,"number"==typeof this.movingTimeout&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var t=(0,m.getPosition)(y,this.container),l=t.x,u=t.y,g=e.getState(),R=e.getPreviousState()||{x:0,y:0};this.isMoving?e.animate({x:g.x+3*(g.x-R.x),y:g.y+3*(g.y-R.y)},{duration:200,easing:"quadraticOut"}):(this.lastMouseX!==l||this.lastMouseY!==u)&&e.setState({x:g.x,y:g.y}),this.isMoving=!1,setTimeout(function(){h.draggedEvents=0,h.renderer.refresh()},0),this.emit("mouseup",(0,m.getMouseCoords)(y,this.container))}},E.prototype.handleMove=function(y){var h=this;if(this.enabled){var e=(0,m.getMouseCoords)(y,this.container);if(this.emit("mousemovebody",e),y.target===this.container&&this.emit("mousemove",e),!e.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,"number"==typeof this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){h.movingTimeout=null,h.isMoving=!1},100);var t=this.renderer.getCamera(),l=(0,m.getPosition)(y,this.container),u=l.x,g=l.y,R=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),F=this.renderer.viewportToFramedGraph({x:u,y:g}),A=R.x-F.x,P=R.y-F.y,M=t.getState();t.setState({x:M.x+A,y:M.y+P}),this.lastMouseX=u,this.lastMouseY=g,y.preventDefault(),y.stopPropagation()}}},E.prototype.handleWheel=function(y){var h=this;if(this.enabled){y.preventDefault(),y.stopPropagation();var e=(0,m.getWheelDelta)(y);if(e){var t=(0,m.getWheelCoords)(y,this.container);if(this.emit("wheel",t),!t.sigmaDefaultPrevented){var l=e>0?1/1.7:1.7,u=this.renderer.getCamera(),g=u.getBoundedRatio(u.getState().ratio*l),R=e>0?1:-1,F=Date.now();this.currentWheelDirection===R&&this.lastWheelTriggerTime&&F-this.lastWheelTriggerTime<50||(u.animate(this.renderer.getViewportZoomedState((0,m.getPosition)(y,this.container),g),{easing:"quadraticOut",duration:250},function(){h.currentWheelDirection=0}),this.currentWheelDirection=R,this.lastWheelTriggerTime=F)}}}},E.prototype.handleOut=function(){},E}(m.default);o.default=p},function(I,o,b){"use strict";var r,L=this&&this.__extends||(r=function(n,a){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,_){p.__proto__=_}||function(p,_){for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&(p[E]=_[E])})(n,a)},function(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function p(){this.constructor=n}r(n,a),n.prototype=null===a?Object.create(a):(p.prototype=a.prototype,new p)}),T=this&&this.__assign||function(){return T=Object.assign||function(r){for(var n,a=1,p=arguments.length;a<p;a++)for(var _ in n=arguments[a])Object.prototype.hasOwnProperty.call(n,_)&&(r[_]=n[_]);return r},T.apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0}),o.getWheelDelta=o.getTouchCoords=o.getTouchesArray=o.getWheelCoords=o.getMouseCoords=o.getPosition=void 0;var w=b(9);function c(r,n){var a=n.getBoundingClientRect();return{x:r.clientX-a.left,y:r.clientY-a.top}}function m(r,n){var a=T(T({},c(r,n)),{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){a.sigmaDefaultPrevented=!0},original:r});return a}function d(r){for(var n=[],a=0,p=Math.min(r.length,2);a<p;a++)n.push(r[a]);return n}function s(r){if(void 0!==r.deltaY)return-3*r.deltaY/360;if(void 0!==r.detail)return r.detail/-9;throw new Error("Captor: could not extract delta from event.")}o.getPosition=c,o.getMouseCoords=m,o.getWheelCoords=function v(r,n){return T(T({},m(r,n)),{delta:s(r)})},o.getTouchesArray=d,o.getTouchCoords=function f(r,n){return{touches:d(r.touches).map(function(a){return c(a,n)}),original:r}},o.getWheelDelta=s;var i=function(r){function n(a,p){var _=r.call(this)||this;return _.container=a,_.renderer=p,_}return L(n,r),n}(w.TypedEventEmitter);o.default=i},function(I,o,b){"use strict";var L=this&&this.__read||function(F,A){var P="function"==typeof Symbol&&F[Symbol.iterator];if(!P)return F;var x,S,M=P.call(F),O=[];try{for(;(void 0===A||A-- >0)&&!(x=M.next()).done;)O.push(x.value)}catch(D){S={error:D}}finally{try{x&&!x.done&&(P=M.return)&&P.call(M)}finally{if(S)throw S.error}}return O},T=this&&this.__spreadArray||function(F,A,P){if(P||2===arguments.length)for(var O,M=0,x=A.length;M<x;M++)(O||!(M in A))&&(O||(O=Array.prototype.slice.call(A,0,M)),O[M]=A[M]);return F.concat(O||Array.prototype.slice.call(A))},w=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(o,"__esModule",{value:!0}),o.rectangleCollidesWithQuad=o.squareCollidesWithQuad=o.getCircumscribedAlignedRectangle=o.isRectangleAligned=void 0;var c=w(b(14)),C="outside",_=!1;function E(F){return F.x1===F.x2||F.y1===F.y2}function y(F){var A=Math.sqrt(Math.pow(F.x2-F.x1,2)+Math.pow(F.y2-F.y1,2)),P_x=(F.y1-F.y2)*F.height/A,P_y=(F.x2-F.x1)*F.height/A,M={x:F.x1,y:F.y1},x={x:F.x2,y:F.y2},O={x:F.x1+P_x,y:F.y1+P_y},S={x:F.x2+P_x,y:F.y2+P_y},D=Math.min(M.x,x.x,O.x,S.x),U=Math.max(M.x,x.x,O.x,S.x),N=Math.min(M.y,x.y,O.y,S.y);return{x1:D,y1:N,x2:U,y2:N,height:Math.max(M.y,x.y,O.y,S.y)-N}}function h(F,A,P,M,x,O,S){return F<M+O&&F+P>M&&A<x+S&&A+P>x}function e(F,A,P,M,x,O,S,D){return F<x+S&&F+P>x&&A<O+D&&A+M>O}function t(F,A,P,M,x,O){var N=F<P+x/2;return A<M+O/2?N?1:2:N?3:4}o.isRectangleAligned=E,o.getCircumscribedAlignedRectangle=y,o.squareCollidesWithQuad=h,o.rectangleCollidesWithQuad=e;var R=function(){function F(A){var P;void 0===A&&(A={}),this.containers=((P={})[C]=[],P),this.cache=null,this.lastRectangle=null;var M=Math.pow(4,5);this.data=new Float32Array((4*M-1)/3*4),this.resize(A.boundaries?A.boundaries:{x:0,y:0,width:1,height:1})}return F.prototype.add=function(A,P,M,x){return function u(F,A,P,M,x,O,S){for(var D=x-S,U=O-S,N=2*S,z=0,G=0;;){if(z>=F)return P[G]=P[G]||[],void P[G].push(M);var j=4*G+4,B=4*G+8,W=4*G+12,k=4*G+16,q=h(D,U,N,A[j+0],A[j+1],A[j+2],A[j+3]),H=h(D,U,N,A[B+0],A[B+1],A[B+2],A[B+3]),V=h(D,U,N,A[W+0],A[W+1],A[W+2],A[W+3]),Y=h(D,U,N,A[k+0],A[k+1],A[k+2],A[k+3]),Z=[q,H,V,Y].reduce(function(K,Q){return Q?K+1:K},0);if(0===Z&&0===z)return P[C].push(M),void(!_&&P[C].length>=5&&(_=!0,console.warn("sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. You might have a problem with the normalization function or the custom bounding box.")));if(0===Z)throw new Error("sigma/quadtree.insertNode: no collision (level: ".concat(z,", key: ").concat(M,", x: ").concat(x,", y: ").concat(O,", size: ").concat(S,")."));if(3===Z)throw new Error("sigma/quadtree.insertNode: 3 impossible collisions (level: ".concat(z,", key: ").concat(M,", x: ").concat(x,", y: ").concat(O,", size: ").concat(S,")."));if(Z>1)return P[G]=P[G]||[],void P[G].push(M);z++,q&&(G=j),H&&(G=B),V&&(G=W),Y&&(G=k)}}(5,this.data,this.containers,A,P,M,x),this},F.prototype.resize=function(A){this.clear(),this.data[0]=A.x,this.data[1]=A.y,this.data[2]=A.width,this.data[3]=A.height,function l(F,A){for(var P=[0,0];P.length;){var M=P.pop(),x=P.pop(),O=4*x+4,S=4*x+8,D=4*x+12,U=4*x+16,N=A[x+0],z=A[x+1],B=A[x+2]/2,W=A[x+3]/2;A[O+0]=N,A[O+1]=z,A[O+2]=B,A[O+3]=W,A[S+0]=N+B,A[S+1]=z,A[S+2]=B,A[S+3]=W,A[D+0]=N,A[D+1]=z+W,A[D+2]=B,A[D+3]=W,A[U+0]=N+B,A[U+1]=z+W,A[U+2]=B,A[U+3]=W,M<F-1&&(P.push(U,M+1),P.push(D,M+1),P.push(S,M+1),P.push(O,M+1))}}(5,this.data)},F.prototype.clear=function(){var A;return this.containers=((A={})[C]=[],A),this},F.prototype.point=function(A,P){var M=this.containers[C],x=0,O=0;do{this.containers[x]&&M.push.apply(M,T([],L(this.containers[x]),!1)),x=4*x+4*t(A,P,this.data[x+0],this.data[x+1],this.data[x+2],this.data[x+3]),O++}while(O<=5);return M},F.prototype.rectangle=function(A,P,M,x,O){var S,D=this.lastRectangle;return D&&A===D.x1&&M===D.x2&&P===D.y1&&x===D.y2&&O===D.height||(this.lastRectangle={x1:A,y1:P,x2:M,y2:x,height:O},E(this.lastRectangle)||(this.lastRectangle=y(this.lastRectangle)),this.cache=function g(F,A,P,M,x,O,S){for(var N,D=[0,0],U=[];D.length;){var z=D.pop(),G=D.pop();if((N=P[G])&&(0,c.default)(U,N),!(z>=F)){var j=4*G+4,B=4*G+8,W=4*G+12,k=4*G+16,q=e(M,x,O,S,A[j+0],A[j+1],A[j+2],A[j+3]),H=e(M,x,O,S,A[B+0],A[B+1],A[B+2],A[B+3]),V=e(M,x,O,S,A[W+0],A[W+1],A[W+2],A[W+3]),Y=e(M,x,O,S,A[k+0],A[k+1],A[k+2],A[k+3]);q&&D.push(j,z+1),H&&D.push(B,z+1),V&&D.push(W,z+1),Y&&D.push(k,z+1)}}return U}(5,this.data,this.containers,A,P,Math.abs(A-M)||Math.abs(P-x),O),(S=this.cache).push.apply(S,T([],L(this.containers[C]),!1))),this.cache},F}();o.default=R},I=>{I.exports=function(b,L){var T=L.length;if(0!==T){var w=b.length;b.length+=T;for(var c=0;c<T;c++)b[w+c]=L[c]}}},(I,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.edgeLabelsToDisplayFromNodes=o.LabelGrid=void 0;var b=function(){function w(c,m){this.key=c,this.size=m}return w.compare=function(c,m){return c.size>m.size?-1:c.size<m.size||c.key>m.key?1:-1},w}(),L=function(){function w(){this.width=0,this.height=0,this.cellSize=0,this.columns=0,this.rows=0,this.cells={}}return w.prototype.resizeAndClear=function(c,m){this.width=c.width,this.height=c.height,this.cellSize=m,this.columns=Math.ceil(c.width/m),this.rows=Math.ceil(c.height/m),this.cells={}},w.prototype.getIndex=function(c){var m=Math.floor(c.x/this.cellSize);return Math.floor(c.y/this.cellSize)*this.columns+m},w.prototype.add=function(c,m,v){var C=new b(c,m),d=this.getIndex(v),f=this.cells[d];f||(this.cells[d]=f=[]),f.push(C)},w.prototype.organize=function(){for(var c in this.cells)this.cells[c].sort(b.compare)},w.prototype.getLabelsToDisplay=function(c,m){var v=this.cellSize*this.cellSize,f=Math.ceil(v/c/c*m/v),s=[];for(var i in this.cells)for(var r=this.cells[i],n=0;n<Math.min(f,r.length);n++)s.push(r[n].key);return s},w}();o.LabelGrid=L,o.edgeLabelsToDisplayFromNodes=function T(w){var m=w.hoveredNode,v=w.highlightedNodes,C=w.displayedNodeLabels,d=[];return w.graph.forEachEdge(function(f,s,i,r){(i===m||r===m||v.has(i)||v.has(r)||C.has(i)&&C.has(r))&&d.push(f)}),d}},function(I,o,b){"use strict";var L=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_SETTINGS=o.validateSettings=void 0;var T=L(b(17)),w=L(b(18)),c=L(b(19)),m=L(b(20)),v=L(b(26)),C=L(b(30));o.validateSettings=function d(f){if("number"!=typeof f.labelDensity||f.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var s=f.minCameraRatio,i=f.maxCameraRatio;if("number"==typeof s&&"number"==typeof i&&i<s)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")},o.DEFAULT_SETTINGS={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeClickEvents:!1,enableEdgeWheelEvents:!1,enableEdgeHoverEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,labelRenderer:T.default,hoverRenderer:w.default,edgeLabelRenderer:c.default,allowInvalidContainer:!1,nodeProgramClasses:{circle:m.default},edgeProgramClasses:{arrow:C.default,line:v.default}}},(I,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function b(L,T,w){if(T.label){var c=w.labelSize,m=w.labelFont,v=w.labelWeight;L.fillStyle=w.labelColor.attribute?T[w.labelColor.attribute]||w.labelColor.color||"#000":w.labelColor.color,L.font="".concat(v," ").concat(c,"px ").concat(m),L.fillText(T.label,T.x+T.size+3,T.y+c/3)}}},function(I,o,b){"use strict";var L=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(o,"__esModule",{value:!0});var T=L(b(17));o.default=function w(c,m,v){var C=v.labelSize,d=v.labelFont;if(c.font="".concat(v.labelWeight," ").concat(C,"px ").concat(d),c.fillStyle="#FFF",c.shadowOffsetX=0,c.shadowOffsetY=0,c.shadowBlur=8,c.shadowColor="#000","string"==typeof m.label){var i=c.measureText(m.label).width,r=Math.round(i+5),n=Math.round(C+4),a=Math.max(m.size,C/2)+2,p=Math.asin(n/2/a),_=Math.sqrt(Math.abs(Math.pow(a,2)-Math.pow(n/2,2)));c.beginPath(),c.moveTo(m.x+_,m.y+n/2),c.lineTo(m.x+a+r,m.y+n/2),c.lineTo(m.x+a+r,m.y-n/2),c.lineTo(m.x+_,m.y-n/2),c.arc(m.x,m.y,a,p,-p),c.closePath(),c.fill()}else c.beginPath(),c.arc(m.x,m.y,m.size+2,0,2*Math.PI),c.closePath(),c.fill();c.shadowOffsetX=0,c.shadowOffsetY=0,c.shadowBlur=0,(0,T.default)(c,m,v)}},(I,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function b(L,T,w,c,m){var v=m.edgeLabelSize,C=m.edgeLabelFont,d=m.edgeLabelWeight,s=T.label;if(s){L.fillStyle=m.edgeLabelColor.attribute?T[m.edgeLabelColor.attribute]||m.edgeLabelColor.color||"#000":m.edgeLabelColor.color,L.font="".concat(d," ").concat(v,"px ").concat(C);var i=w.size,r=c.size,n=w.x,a=w.y,p=c.x,_=c.y,E=(n+p)/2,y=(a+_)/2,h=p-n,e=_-a,t=Math.sqrt(h*h+e*e);if(!(t<i+r)){E=((n+=h*i/t)+(p-=h*r/t))/2,y=((a+=e*i/t)+(_-=e*r/t))/2,h=p-n,e=_-a,t=Math.sqrt(h*h+e*e);var g,l=L.measureText(s).width;if(l>t){for(l=L.measureText(s+="\u2026").width;l>t&&s.length>1;)s=s.slice(0,-2)+"\u2026",l=L.measureText(s).width;if(s.length<4)return}g=h>0?e>0?Math.acos(h/t):Math.asin(e/t):e>0?Math.acos(h/t)+Math.PI:Math.asin(h/t)+Math.PI/2,L.save(),L.translate(E,y),L.rotate(g),L.fillText(s,-l/2,T.size/2+v),L.restore()}}}},function(I,o,b){"use strict";var s,L=this&&this.__extends||(s=function(i,r){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var p in a)Object.prototype.hasOwnProperty.call(a,p)&&(n[p]=a[p])})(i,r)},function(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=i}s(i,r),i.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}),T=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(o,"__esModule",{value:!0});var w=b(4),c=T(b(21)),m=T(b(22)),f=function(s){function i(r){var n=s.call(this,r,c.default,m.default,1,4)||this;return n.bind(),n}return L(i,s),i.prototype.process=function(r,n,a){var p=this.array,_=1*a*4;if(n)return p[_++]=0,p[_++]=0,p[_++]=0,void(p[_++]=0);var E=(0,w.floatColor)(r.color);p[_++]=r.x,p[_++]=r.y,p[_++]=r.size,p[_]=E},i.prototype.render=function(r){if(!this.hasNothingToRender()){var n=this.gl;n.useProgram(this.program),n.uniform1f(this.ratioLocation,1/Math.sqrt(r.ratio)),n.uniform1f(this.scaleLocation,r.scalingRatio),n.uniformMatrix3fv(this.matrixLocation,!1,r.matrix),n.drawArrays(n.POINTS,0,this.array.length/4)}},i}(b(23).AbstractNodeProgram);o.default=f},(I,o,b)=>{"use strict";b.r(o),b.d(o,{default:()=>L});const L="attribute vec2 a_position;\nattribute float a_size;\nattribute vec4 a_color;\n\nuniform float u_ratio;\nuniform float u_scale;\nuniform mat3 u_matrix;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  gl_Position = vec4(\n    (u_matrix * vec3(a_position, 1)).xy,\n    0,\n    1\n  );\n\n  // Multiply the point size twice:\n  //  - x SCALING_RATIO to correct the canvas scaling\n  //  - x 2 to correct the formulae\n  gl_PointSize = a_size * u_ratio * u_scale * 2.0;\n\n  v_border = (1.0 / u_ratio) * (0.5 / a_size);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},(I,o,b)=>{"use strict";b.r(o),b.d(o,{default:()=>L});const L="precision mediump float;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float radius = 0.5;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\n  float dist = radius - length(m);\n\n  float t = 0.0;\n  if (dist > v_border)\n    t = 1.0;\n  else if (dist > 0.0)\n    t = dist / v_border;\n\n  gl_FragColor = mix(transparent, v_color, t);\n}\n"},function(I,o,b){"use strict";var m,L=this&&this.__extends||(m=function(v,C){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var s in f)Object.prototype.hasOwnProperty.call(f,s)&&(d[s]=f[s])})(v,C)},function(v,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function d(){this.constructor=v}m(v,C),v.prototype=null===C?Object.create(C):(d.prototype=C.prototype,new d)});Object.defineProperty(o,"__esModule",{value:!0}),o.createNodeCompoundProgram=o.AbstractNodeProgram=void 0;var w=function(m){function v(C,d,f,s,i){var r=m.call(this,C,d,f,s,i)||this;r.positionLocation=C.getAttribLocation(r.program,"a_position"),r.sizeLocation=C.getAttribLocation(r.program,"a_size"),r.colorLocation=C.getAttribLocation(r.program,"a_color");var n=C.getUniformLocation(r.program,"u_matrix");if(null===n)throw new Error("AbstractNodeProgram: error while getting matrixLocation");r.matrixLocation=n;var a=C.getUniformLocation(r.program,"u_ratio");if(null===a)throw new Error("AbstractNodeProgram: error while getting ratioLocation");r.ratioLocation=a;var p=C.getUniformLocation(r.program,"u_scale");if(null===p)throw new Error("AbstractNodeProgram: error while getting scaleLocation");return r.scaleLocation=p,r}return L(v,m),v.prototype.bind=function(){var C=this.gl;C.enableVertexAttribArray(this.positionLocation),C.enableVertexAttribArray(this.sizeLocation),C.enableVertexAttribArray(this.colorLocation),C.vertexAttribPointer(this.positionLocation,2,C.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,0),C.vertexAttribPointer(this.sizeLocation,1,C.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,8),C.vertexAttribPointer(this.colorLocation,4,C.UNSIGNED_BYTE,!0,this.attributes*Float32Array.BYTES_PER_ELEMENT,12)},v}(b(24).AbstractProgram);o.AbstractNodeProgram=w,o.createNodeCompoundProgram=function c(m){return function(){function v(C,d){this.programs=m.map(function(f){return new f(C,d)})}return v.prototype.bufferData=function(){this.programs.forEach(function(C){return C.bufferData()})},v.prototype.allocate=function(C){this.programs.forEach(function(d){return d.allocate(C)})},v.prototype.bind=function(){},v.prototype.render=function(C){this.programs.forEach(function(d){d.bind(),d.bufferData(),d.render(C)})},v.prototype.process=function(C,d,f){this.programs.forEach(function(s){return s.process(C,d,f)})},v}()}},(I,o,b)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AbstractProgram=void 0;var L=b(25),T=function(){function w(c,m,v,C,d){this.array=new Float32Array,this.points=C,this.attributes=d,this.gl=c,this.vertexShaderSource=m,this.fragmentShaderSource=v;var f=c.createBuffer();if(null===f)throw new Error("AbstractProgram: error while creating the buffer");this.buffer=f,c.bindBuffer(c.ARRAY_BUFFER,this.buffer),this.vertexShader=(0,L.loadVertexShader)(c,this.vertexShaderSource),this.fragmentShader=(0,L.loadFragmentShader)(c,this.fragmentShaderSource),this.program=(0,L.loadProgram)(c,[this.vertexShader,this.fragmentShader])}return w.prototype.bufferData=function(){var c=this.gl;c.bufferData(c.ARRAY_BUFFER,this.array,c.DYNAMIC_DRAW)},w.prototype.allocate=function(c){this.array=new Float32Array(this.points*this.attributes*c)},w.prototype.hasNothingToRender=function(){return 0===this.array.length},w}();o.AbstractProgram=T},(I,o)=>{"use strict";function b(c,m,v){var d=m.createShader("VERTEX"===c?m.VERTEX_SHADER:m.FRAGMENT_SHADER);if(null===d)throw new Error("loadShader: error while creating the shader");if(m.shaderSource(d,v),m.compileShader(d),!m.getShaderParameter(d,m.COMPILE_STATUS)){var s=m.getShaderInfoLog(d);throw m.deleteShader(d),new Error("loadShader: error while compiling the shader:\n".concat(s,"\n").concat(v))}return d}Object.defineProperty(o,"__esModule",{value:!0}),o.loadProgram=o.loadFragmentShader=o.loadVertexShader=void 0,o.loadVertexShader=function L(c,m){return b("VERTEX",c,m)},o.loadFragmentShader=function T(c,m){return b("FRAGMENT",c,m)},o.loadProgram=function w(c,m){var C,d,v=c.createProgram();if(null===v)throw new Error("loadProgram: error while creating the program.");for(C=0,d=m.length;C<d;C++)c.attachShader(v,m[C]);if(c.linkProgram(v),!c.getProgramParameter(v,c.LINK_STATUS))throw c.deleteProgram(v),new Error("loadProgram: error while linking the program.");return v}},function(I,o,b){"use strict";var i,L=this&&this.__extends||(i=function(r,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,p){a.__proto__=p}||function(a,p){for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(a[_]=p[_])})(r,n)},function(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=r}i(r,n),r.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}),T=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(o,"__esModule",{value:!0});var w=b(4),c=T(b(27)),m=T(b(28)),s=function(i){function r(n){var a=i.call(this,n,c.default,m.default,4,5)||this,p=n.createBuffer();if(null===p)throw new Error("EdgeProgram: error while creating indicesBuffer");a.indicesBuffer=p,a.positionLocation=n.getAttribLocation(a.program,"a_position"),a.colorLocation=n.getAttribLocation(a.program,"a_color"),a.normalLocation=n.getAttribLocation(a.program,"a_normal");var _=n.getUniformLocation(a.program,"u_matrix");if(null===_)throw new Error("EdgeProgram: error while getting matrixLocation");a.matrixLocation=_;var E=n.getUniformLocation(a.program,"u_correctionRatio");if(null===E)throw new Error("EdgeProgram: error while getting correctionRatioLocation");a.correctionRatioLocation=E;var y=n.getUniformLocation(a.program,"u_sqrtZoomRatio");if(null===y)throw new Error("EdgeProgram: error while getting sqrtZoomRatioLocation");return a.sqrtZoomRatioLocation=y,a.canUse32BitsIndices=(0,w.canUse32BitsIndices)(n),a.IndicesArray=a.canUse32BitsIndices?Uint32Array:Uint16Array,a.indicesArray=new a.IndicesArray,a.indicesType=a.canUse32BitsIndices?n.UNSIGNED_INT:n.UNSIGNED_SHORT,a.bind(),a}return L(r,i),r.prototype.bind=function(){var n=this.gl;n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),n.enableVertexAttribArray(this.positionLocation),n.enableVertexAttribArray(this.normalLocation),n.enableVertexAttribArray(this.colorLocation),n.vertexAttribPointer(this.positionLocation,2,n.FLOAT,!1,5*Float32Array.BYTES_PER_ELEMENT,0),n.vertexAttribPointer(this.normalLocation,2,n.FLOAT,!1,5*Float32Array.BYTES_PER_ELEMENT,8),n.vertexAttribPointer(this.colorLocation,4,n.UNSIGNED_BYTE,!0,5*Float32Array.BYTES_PER_ELEMENT,16)},r.prototype.computeIndices=function(){for(var n=this.array.length/5,p=new this.IndicesArray(n+n/2),_=0,E=0;_<n;_+=4)p[E++]=_,p[E++]=_+1,p[E++]=_+2,p[E++]=_+2,p[E++]=_+1,p[E++]=_+3;this.indicesArray=p},r.prototype.bufferData=function(){i.prototype.bufferData.call(this);var n=this.gl;n.bufferData(n.ELEMENT_ARRAY_BUFFER,this.indicesArray,n.STATIC_DRAW)},r.prototype.process=function(n,a,p,_,E){if(_)for(var y=20*E,h=y+20;y<h;y++)this.array[y]=0;else{var e=p.size||1,t=n.x,l=n.y,u=a.x,g=a.y,R=(0,w.floatColor)(p.color),F=u-t,A=g-l,P=F*F+A*A,M=0,x=0;P&&(M=-A*(P=1/Math.sqrt(P))*e,x=F*P*e);var O=20*E,S=this.array;S[O++]=t,S[O++]=l,S[O++]=M,S[O++]=x,S[O++]=R,S[O++]=t,S[O++]=l,S[O++]=-M,S[O++]=-x,S[O++]=R,S[O++]=u,S[O++]=g,S[O++]=M,S[O++]=x,S[O++]=R,S[O++]=u,S[O++]=g,S[O++]=-M,S[O++]=-x,S[O]=R}},r.prototype.render=function(n){if(!this.hasNothingToRender()){var a=this.gl;a.useProgram(this.program),a.uniformMatrix3fv(this.matrixLocation,!1,n.matrix),a.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(n.ratio)),a.uniform1f(this.correctionRatioLocation,n.correctionRatio),a.drawElements(a.TRIANGLES,this.indicesArray.length,this.indicesType,0)}},r}(b(29).AbstractEdgeProgram);o.default=s},(I,o,b)=>{"use strict";b.r(o),b.d(o,{default:()=>L});const L='attribute vec4 a_color;\nattribute vec2 a_normal;\nattribute vec2 a_position;\n\nuniform mat3 u_matrix;\nuniform float u_sqrtZoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // We require edges to be at least `minThickness` pixels thick *on screen*\n  // (so we need to compensate the SQRT zoom ratio):\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\n\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\n  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction\n  // ratio:\n  float webGLThickness = pixelsThickness * u_correctionRatio;\n\n  // Finally, we adapt the edge thickness to the "SQRT rule" in sigma (so that\n  // items are not too big when zoomed in, and not too small when zoomed out).\n  // The exact computation should be `adapted = value * zoom / sqrt(zoom)`, but\n  // it\'s simpler like this:\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\n\n  // Here is the proper position of the vertex\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness, 1)).xy, 0, 1);\n\n  // For the fragment shader though, we need a thickness that takes the "magic"\n  // correction ratio into account (as in webGLThickness), but so that the\n  // antialiasint effect does not depend on the zoom level. So here\'s yet\n  // another thickness version:\n  v_thickness = webGLThickness / u_sqrtZoomRatio;\n\n  v_normal = unitNormal;\n  v_color = a_color;\n  v_color.a *= bias;\n}\n'},(I,o,b)=>{"use strict";b.r(o),b.d(o,{default:()=>L});const L="precision mediump float;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float feather = 0.001;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  float dist = length(v_normal) * v_thickness;\n\n  float t = smoothstep(\n    v_thickness - feather,\n    v_thickness,\n    dist\n  );\n\n  gl_FragColor = mix(v_color, transparent, t);\n}\n"},function(I,o,b){"use strict";var m,L=this&&this.__extends||(m=function(v,C){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var s in f)Object.prototype.hasOwnProperty.call(f,s)&&(d[s]=f[s])})(v,C)},function(v,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function d(){this.constructor=v}m(v,C),v.prototype=null===C?Object.create(C):(d.prototype=C.prototype,new d)});Object.defineProperty(o,"__esModule",{value:!0}),o.createEdgeCompoundProgram=o.AbstractEdgeProgram=void 0;var w=function(m){function v(C,d,f,s,i){return m.call(this,C,d,f,s,i)||this}return L(v,m),v}(b(24).AbstractProgram);o.AbstractEdgeProgram=w,o.createEdgeCompoundProgram=function c(m){return function(){function v(C,d){this.programs=m.map(function(f){return new f(C,d)})}return v.prototype.bufferData=function(){this.programs.forEach(function(C){return C.bufferData()})},v.prototype.allocate=function(C){this.programs.forEach(function(d){return d.allocate(C)})},v.prototype.bind=function(){},v.prototype.computeIndices=function(){this.programs.forEach(function(C){return C.computeIndices()})},v.prototype.render=function(C){this.programs.forEach(function(d){d.bind(),d.bufferData(),d.render(C)})},v.prototype.process=function(C,d,f,s,i){this.programs.forEach(function(r){return r.process(C,d,f,s,i)})},v}()}},function(I,o,b){"use strict";var L=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(o,"__esModule",{value:!0});var T=b(29),w=L(b(31)),c=L(b(34)),m=(0,T.createEdgeCompoundProgram)([c.default,w.default]);o.default=m},function(I,o,b){"use strict";var i,L=this&&this.__extends||(i=function(r,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,p){a.__proto__=p}||function(a,p){for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(a[_]=p[_])})(r,n)},function(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=r}i(r,n),r.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}),T=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(o,"__esModule",{value:!0});var w=b(4),c=T(b(32)),m=T(b(33)),s=function(i){function r(n){var a=i.call(this,n,c.default,m.default,3,9)||this;a.positionLocation=n.getAttribLocation(a.program,"a_position"),a.colorLocation=n.getAttribLocation(a.program,"a_color"),a.normalLocation=n.getAttribLocation(a.program,"a_normal"),a.radiusLocation=n.getAttribLocation(a.program,"a_radius"),a.barycentricLocation=n.getAttribLocation(a.program,"a_barycentric");var p=n.getUniformLocation(a.program,"u_matrix");if(null===p)throw new Error("EdgeArrowHeadProgram: error while getting matrixLocation");a.matrixLocation=p;var _=n.getUniformLocation(a.program,"u_sqrtZoomRatio");if(null===_)throw new Error("EdgeArrowHeadProgram: error while getting sqrtZoomRatioLocation");a.sqrtZoomRatioLocation=_;var E=n.getUniformLocation(a.program,"u_correctionRatio");if(null===E)throw new Error("EdgeArrowHeadProgram: error while getting correctionRatioLocation");return a.correctionRatioLocation=E,a.bind(),a}return L(r,i),r.prototype.bind=function(){var n=this.gl;n.enableVertexAttribArray(this.positionLocation),n.enableVertexAttribArray(this.normalLocation),n.enableVertexAttribArray(this.radiusLocation),n.enableVertexAttribArray(this.colorLocation),n.enableVertexAttribArray(this.barycentricLocation),n.vertexAttribPointer(this.positionLocation,2,n.FLOAT,!1,9*Float32Array.BYTES_PER_ELEMENT,0),n.vertexAttribPointer(this.normalLocation,2,n.FLOAT,!1,9*Float32Array.BYTES_PER_ELEMENT,8),n.vertexAttribPointer(this.radiusLocation,1,n.FLOAT,!1,9*Float32Array.BYTES_PER_ELEMENT,16),n.vertexAttribPointer(this.colorLocation,4,n.UNSIGNED_BYTE,!0,9*Float32Array.BYTES_PER_ELEMENT,20),n.vertexAttribPointer(this.barycentricLocation,3,n.FLOAT,!1,9*Float32Array.BYTES_PER_ELEMENT,24)},r.prototype.computeIndices=function(){},r.prototype.process=function(n,a,p,_,E){if(_)for(var y=27*E,h=y+27;y<h;y++)this.array[y]=0;else{var e=p.size||1,t=a.size||1,l=n.x,u=n.y,g=a.x,R=a.y,F=(0,w.floatColor)(p.color),A=g-l,P=R-u,M=A*A+P*P,x=0,O=0;M&&(x=-P*(M=1/Math.sqrt(M))*e,O=A*M*e);var S=27*E,D=this.array;D[S++]=g,D[S++]=R,D[S++]=-x,D[S++]=-O,D[S++]=t,D[S++]=F,D[S++]=1,D[S++]=0,D[S++]=0,D[S++]=g,D[S++]=R,D[S++]=-x,D[S++]=-O,D[S++]=t,D[S++]=F,D[S++]=0,D[S++]=1,D[S++]=0,D[S++]=g,D[S++]=R,D[S++]=-x,D[S++]=-O,D[S++]=t,D[S++]=F,D[S++]=0,D[S++]=0,D[S]=1}},r.prototype.render=function(n){if(!this.hasNothingToRender()){var a=this.gl;a.useProgram(this.program),a.uniformMatrix3fv(this.matrixLocation,!1,n.matrix),a.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(n.ratio)),a.uniform1f(this.correctionRatioLocation,n.correctionRatio),a.drawArrays(a.TRIANGLES,0,this.array.length/9)}},r}(b(29).AbstractEdgeProgram);o.default=s},(I,o,b)=>{"use strict";b.r(o),b.d(o,{default:()=>L});const L="attribute vec2 a_position;\nattribute vec2 a_normal;\nattribute float a_radius;\nattribute vec4 a_color;\nattribute vec3 a_barycentric;\n\nuniform mat3 u_matrix;\nuniform float u_sqrtZoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\nconst float arrowHeadWidthLengthRatio = 0.66;\nconst float arrowHeadLengthThicknessRatio = 2.5;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // These first computations are taken from edge.vert.glsl and\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\n  // happening:\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio;\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\n  float adaptedWebGLNodeRadius = a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;\n  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\n  float adaptedWebGLArrowHeadHalfWidth = adaptedWebGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\n\n  float da = a_barycentric.x;\n  float db = a_barycentric.y;\n  float dc = a_barycentric.z;\n\n  vec2 delta = vec2(\n      da * (adaptedWebGLNodeRadius * unitNormal.y)\n    + db * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y + adaptedWebGLArrowHeadHalfWidth * unitNormal.x)\n    + dc * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y - adaptedWebGLArrowHeadHalfWidth * unitNormal.x),\n\n      da * (-adaptedWebGLNodeRadius * unitNormal.x)\n    + db * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x + adaptedWebGLArrowHeadHalfWidth * unitNormal.y)\n    + dc * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x - adaptedWebGLArrowHeadHalfWidth * unitNormal.y)\n  );\n\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\n\n  gl_Position = vec4(position, 0, 1);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},(I,o,b)=>{"use strict";b.r(o),b.d(o,{default:()=>L});const L="precision mediump float;\n\nvarying vec4 v_color;\n\nvoid main(void) {\n  gl_FragColor = v_color;\n}\n"},function(I,o,b){"use strict";var i,L=this&&this.__extends||(i=function(r,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,p){a.__proto__=p}||function(a,p){for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(a[_]=p[_])})(r,n)},function(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=r}i(r,n),r.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}),T=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(o,"__esModule",{value:!0});var w=b(29),c=b(4),m=T(b(35)),v=T(b(28)),s=function(i){function r(n){var a=i.call(this,n,m.default,v.default,4,6)||this,p=n.createBuffer();if(null===p)throw new Error("EdgeClampedProgram: error while getting resolutionLocation");a.indicesBuffer=p,a.positionLocation=n.getAttribLocation(a.program,"a_position"),a.colorLocation=n.getAttribLocation(a.program,"a_color"),a.normalLocation=n.getAttribLocation(a.program,"a_normal"),a.radiusLocation=n.getAttribLocation(a.program,"a_radius");var _=n.getUniformLocation(a.program,"u_matrix");if(null===_)throw new Error("EdgeClampedProgram: error while getting matrixLocation");a.matrixLocation=_;var E=n.getUniformLocation(a.program,"u_sqrtZoomRatio");if(null===E)throw new Error("EdgeClampedProgram: error while getting cameraRatioLocation");a.sqrtZoomRatioLocation=E;var y=n.getUniformLocation(a.program,"u_correctionRatio");if(null===y)throw new Error("EdgeClampedProgram: error while getting viewportRatioLocation");return a.correctionRatioLocation=y,a.canUse32BitsIndices=(0,c.canUse32BitsIndices)(n),a.IndicesArray=a.canUse32BitsIndices?Uint32Array:Uint16Array,a.indicesArray=new a.IndicesArray,a.indicesType=a.canUse32BitsIndices?n.UNSIGNED_INT:n.UNSIGNED_SHORT,a.bind(),a}return L(r,i),r.prototype.bind=function(){var n=this.gl;n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),n.enableVertexAttribArray(this.positionLocation),n.enableVertexAttribArray(this.normalLocation),n.enableVertexAttribArray(this.colorLocation),n.enableVertexAttribArray(this.radiusLocation),n.vertexAttribPointer(this.positionLocation,2,n.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,0),n.vertexAttribPointer(this.normalLocation,2,n.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,8),n.vertexAttribPointer(this.colorLocation,4,n.UNSIGNED_BYTE,!0,6*Float32Array.BYTES_PER_ELEMENT,16),n.vertexAttribPointer(this.radiusLocation,1,n.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,20)},r.prototype.process=function(n,a,p,_,E){if(_)for(var y=24*E,h=y+24;y<h;y++)this.array[y]=0;else{var e=p.size||1,t=n.x,l=n.y,u=a.x,g=a.y,R=a.size||1,F=(0,c.floatColor)(p.color),A=u-t,P=g-l,M=A*A+P*P,x=0,O=0;M&&(x=-P*(M=1/Math.sqrt(M))*e,O=A*M*e);var S=24*E,D=this.array;D[S++]=t,D[S++]=l,D[S++]=x,D[S++]=O,D[S++]=F,D[S++]=0,D[S++]=t,D[S++]=l,D[S++]=-x,D[S++]=-O,D[S++]=F,D[S++]=0,D[S++]=u,D[S++]=g,D[S++]=x,D[S++]=O,D[S++]=F,D[S++]=R,D[S++]=u,D[S++]=g,D[S++]=-x,D[S++]=-O,D[S++]=F,D[S]=-R}},r.prototype.computeIndices=function(){for(var n=this.array.length/6,p=new this.IndicesArray(n+n/2),_=0,E=0;_<n;_+=4)p[E++]=_,p[E++]=_+1,p[E++]=_+2,p[E++]=_+2,p[E++]=_+1,p[E++]=_+3;this.indicesArray=p},r.prototype.bufferData=function(){i.prototype.bufferData.call(this);var n=this.gl;n.bufferData(n.ELEMENT_ARRAY_BUFFER,this.indicesArray,n.STATIC_DRAW)},r.prototype.render=function(n){if(!this.hasNothingToRender()){var a=this.gl;a.useProgram(this.program),a.uniformMatrix3fv(this.matrixLocation,!1,n.matrix),a.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(n.ratio)),a.uniform1f(this.correctionRatioLocation,n.correctionRatio),a.drawElements(a.TRIANGLES,this.indicesArray.length,this.indicesType,0)}},r}(w.AbstractEdgeProgram);o.default=s},(I,o,b)=>{"use strict";b.r(o),b.d(o,{default:()=>L});const L="attribute vec4 a_color;\nattribute vec2 a_normal;\nattribute vec2 a_position;\nattribute float a_radius;\n\nuniform mat3 u_matrix;\nuniform float u_sqrtZoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\nconst float arrowHeadLengthThicknessRatio = 2.5;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // These first computations are taken from edge.vert.glsl. Please read it to\n  // get better comments on what's happening:\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio;\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\n\n  // Here, we move the point to leave space for the arrow head:\n  float direction = sign(a_radius);\n  float adaptedWebGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;\n  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\n\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength);\n\n  // Here is the proper position of the vertex\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness + compensationVector, 1)).xy, 0, 1);\n\n  v_thickness = webGLThickness / u_sqrtZoomRatio;\n\n  v_normal = unitNormal;\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"},function(I,o,b){"use strict";var i,L=this&&this.__extends||(i=function(r,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,p){a.__proto__=p}||function(a,p){for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(a[_]=p[_])})(r,n)},function(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=r}i(r,n),r.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}),T=this&&this.__createBinding||(Object.create?function(i,r,n,a){void 0===a&&(a=n),Object.defineProperty(i,a,{enumerable:!0,get:function(){return r[n]}})}:function(i,r,n,a){void 0===a&&(a=n),i[a]=r[n]}),w=this&&this.__setModuleDefault||(Object.create?function(i,r){Object.defineProperty(i,"default",{enumerable:!0,value:r})}:function(i,r){i.default=r}),c=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var r={};if(null!=i)for(var n in i)"default"!==n&&Object.prototype.hasOwnProperty.call(i,n)&&T(r,i,n);return w(r,i),r},m=this&&this.__read||function(i,r){var n="function"==typeof Symbol&&i[Symbol.iterator];if(!n)return i;var p,E,a=n.call(i),_=[];try{for(;(void 0===r||r-- >0)&&!(p=a.next()).done;)_.push(p.value)}catch(y){E={error:y}}finally{try{p&&!p.done&&(n=a.return)&&n.call(a)}finally{if(E)throw E.error}}return _};Object.defineProperty(o,"__esModule",{value:!0});var v=c(b(12)),s=function(i){function r(n,a){var p=i.call(this,n,a)||this;return p.enabled=!0,p.isMoving=!1,p.touchMode=0,p.handleStart=p.handleStart.bind(p),p.handleLeave=p.handleLeave.bind(p),p.handleMove=p.handleMove.bind(p),n.addEventListener("touchstart",p.handleStart,!1),n.addEventListener("touchend",p.handleLeave,!1),n.addEventListener("touchcancel",p.handleLeave,!1),n.addEventListener("touchmove",p.handleMove,!1),p}return L(r,i),r.prototype.kill=function(){var n=this.container;n.removeEventListener("touchstart",this.handleStart),n.removeEventListener("touchend",this.handleLeave),n.removeEventListener("touchcancel",this.handleLeave),n.removeEventListener("touchmove",this.handleMove)},r.prototype.getDimensions=function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}},r.prototype.dispatchRelatedMouseEvent=function(n,a,p,_){var E=p||(0,v.getPosition)(a.touches[0],this.container),y=new MouseEvent(n,{clientX:E.x,clientY:E.y,altKey:a.altKey,ctrlKey:a.ctrlKey});y.isFakeSigmaMouseEvent=!0,(_||this.container).dispatchEvent(y)},r.prototype.handleStart=function(n){var a=this;if(this.enabled){n.preventDefault(),1===n.touches.length&&this.dispatchRelatedMouseEvent("mousedown",n);var p=(0,v.getTouchesArray)(n.touches);if(this.isMoving=!0,this.touchMode=p.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=p.map(function(u){return(0,v.getPosition)(u,a.container)}),this.lastTouchesPositions=this.startTouchesPositions,2===this.touchMode){var _=m(this.startTouchesPositions,2),E=_[0],y=E.x,h=E.y,e=_[1],t=e.x,l=e.y;this.startTouchesAngle=Math.atan2(l-h,t-y),this.startTouchesDistance=Math.sqrt(Math.pow(t-y,2)+Math.pow(l-h,2))}this.emit("touchdown",(0,v.getTouchCoords)(n,this.container))}},r.prototype.handleLeave=function(n){if(this.enabled){switch(n.preventDefault(),0===n.touches.length&&this.lastTouchesPositions&&this.lastTouchesPositions.length&&(this.dispatchRelatedMouseEvent("mouseup",n,this.lastTouchesPositions[0],document),this.dispatchRelatedMouseEvent("click",n,this.lastTouchesPositions[0])),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(1===n.touches.length){this.handleStart(n),n.preventDefault();break}case 1:if(this.isMoving){var a=this.renderer.getCamera(),p=a.getState(),_=a.getPreviousState()||{x:0,y:0};a.animate({x:p.x+3*(p.x-_.x),y:p.y+3*(p.y-_.y)},{duration:200,easing:"quadraticOut"})}this.isMoving=!1,this.touchMode=0}this.emit("touchup",(0,v.getTouchCoords)(n,this.container))}},r.prototype.handleMove=function(n){var a,p=this;if(this.enabled){n.preventDefault(),1===n.touches.length&&this.dispatchRelatedMouseEvent("mousemove",n);var _=this.renderer.getCamera(),E=this.startCameraState,h=(0,v.getTouchesArray)(n.touches).map(function(q){return(0,v.getPosition)(q,p.container)});switch(this.lastTouchesPositions=h,this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){p.isMoving=!1},200),this.touchMode){case 1:var e=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),t=e.x,l=e.y,u=this.renderer.viewportToFramedGraph(h[0]);_.setState({x:E.x+t-(g=u.x),y:E.y+l-(R=u.y)});break;case 2:var F={},A=h[0],P=A.x,M=A.y,x=h[1],O=x.x,S=x.y,D=Math.atan2(S-M,O-P)-this.startTouchesAngle,U=Math.hypot(S-M,O-P)/this.startTouchesDistance,N=_.getBoundedRatio(E.ratio/U);F.ratio=N,F.angle=E.angle+D;var g,z=this.getDimensions(),G=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:E}),j=Math.min(z.width,z.height),k=N/j,R=M-j/2/(j/z.height);R=(a=m([(g=P-j/2/(j/z.width))*Math.cos(-F.angle)-R*Math.sin(-F.angle),R*Math.cos(-F.angle)+g*Math.sin(-F.angle)],2))[1],F.x=G.x-(g=a[0])*k,F.y=G.y+R*k,_.setState(F)}this.emit("touchmove",(0,v.getTouchCoords)(n,this.container))}},r}(v.default);o.default=s},(I,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.doEdgeCollideWithPoint=o.isPixelColored=void 0,o.isPixelColored=function b(T,w,c){var m=new Uint8Array(4);return T.readPixels(w,T.drawingBufferHeight-c,1,1,T.RGBA,T.UNSIGNED_BYTE,m),m[3]>0},o.doEdgeCollideWithPoint=function L(T,w,c,m,v,C,d){return!(T<c-d&&T<v-d||w<m-d&&w<C-d||T>c+d&&T>v+d||w>m+d&&w>C+d)&&Math.abs((v-c)*(m-w)-(c-T)*(C-m))/Math.sqrt(Math.pow(v-c,2)+Math.pow(C-m,2))<d/2}}],$={};function X(I){var o=$[I];if(void 0!==o)return o.exports;var b=$[I]={exports:{}};return te[I].call(b.exports,b,b.exports,X),b.exports}X.d=(I,o)=>{for(var b in o)X.o(o,b)&&!X.o(I,b)&&Object.defineProperty(I,b,{enumerable:!0,get:o[b]})},X.o=(I,o)=>Object.prototype.hasOwnProperty.call(I,o),X.r=I=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})};var re=X(0);Sigma=re})();